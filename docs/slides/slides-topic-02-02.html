<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Professor: Davi Moreira">
<meta name="dcterms.date" content="2024-01-23">

<title>QTM 350 Data Science Computing -  QTM 350: Data Science Computing </title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><span style="font-size: 100%;"> QTM 350: Data Science Computing </span></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/course_image_2.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main">
    <a href="https://github.com/davi-moreira/2024S_dsc_emory_qtm_350" title="GitHub" class="quarto-navigation-tool px-1" aria-label="GitHub"><i class="bi bi-github"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../schedule.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Materials</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../topics-pages/page-topic-01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Topic 1: Intro</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../topics-pages/page-topic-02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Topic 2: Version Control</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#topic-overview" id="toc-topic-overview" class="nav-link active" data-scroll-target="#topic-overview">Topic Overview</a></li>
  <li><a href="#command-line" id="toc-command-line" class="nav-link" data-scroll-target="#command-line">Command Line</a></li>
  <li><a href="#what-is-the-command-line-what-is-the-shell" id="toc-what-is-the-command-line-what-is-the-shell" class="nav-link" data-scroll-target="#what-is-the-command-line-what-is-the-shell">What is the command line? What is the shell?</a>
  <ul class="collapse">
  <li><a href="#a-computer-in-a-nutshell" id="toc-a-computer-in-a-nutshell" class="nav-link" data-scroll-target="#a-computer-in-a-nutshell">A computer in a nutshell</a></li>
  <li><a href="#a-computer-in-a-nutshell-1" id="toc-a-computer-in-a-nutshell-1" class="nav-link" data-scroll-target="#a-computer-in-a-nutshell-1">A computer in a nutshell</a></li>
  <li><a href="#interacting-with-the-shell" id="toc-interacting-with-the-shell" class="nav-link" data-scroll-target="#interacting-with-the-shell">Interacting with the shell</a></li>
  <li><a href="#interacting-with-the-shell-1" id="toc-interacting-with-the-shell-1" class="nav-link" data-scroll-target="#interacting-with-the-shell-1">Interacting with the shell</a></li>
  <li><a href="#shell-variants" id="toc-shell-variants" class="nav-link" data-scroll-target="#shell-variants">Shell variants</a></li>
  </ul></li>
  <li><a href="#why-bother-with-the-shell" id="toc-why-bother-with-the-shell" class="nav-link" data-scroll-target="#why-bother-with-the-shell">Why bother with the shell?</a>
  <ul class="collapse">
  <li><a href="#why-bother-with-the-shell-1" id="toc-why-bother-with-the-shell-1" class="nav-link" data-scroll-target="#why-bother-with-the-shell-1">Why bother with the shell?</a></li>
  <li><a href="#why-bother-with-the-shell-2" id="toc-why-bother-with-the-shell-2" class="nav-link" data-scroll-target="#why-bother-with-the-shell-2">Why bother with the shell?</a></li>
  </ul></li>
  <li><a href="#the-unix-philosophy" id="toc-the-unix-philosophy" class="nav-link" data-scroll-target="#the-unix-philosophy">The Unix philosophy</a>
  <ul class="collapse">
  <li><a href="#the-unix-philosophy-1" id="toc-the-unix-philosophy-1" class="nav-link" data-scroll-target="#the-unix-philosophy-1">The Unix philosophy</a></li>
  <li><a href="#things-to-use-the-shell-for" id="toc-things-to-use-the-shell-for" class="nav-link" data-scroll-target="#things-to-use-the-shell-for">Things to use the shell for</a></li>
  </ul></li>
  <li><a href="#shell-basics" id="toc-shell-basics" class="nav-link" data-scroll-target="#shell-basics">Shell basics</a>
  <ul class="collapse">
  <li><a href="#shell-first-look" id="toc-shell-first-look" class="nav-link" data-scroll-target="#shell-first-look">Shell: First look</a></li>
  <li><a href="#shell-first-look-1" id="toc-shell-first-look-1" class="nav-link" data-scroll-target="#shell-first-look-1">Shell: First look</a></li>
  <li><a href="#useful-keyboard-shortcuts" id="toc-useful-keyboard-shortcuts" class="nav-link" data-scroll-target="#useful-keyboard-shortcuts">Useful keyboard shortcuts</a></li>
  </ul></li>
  <li><a href="#syntax" id="toc-syntax" class="nav-link" data-scroll-target="#syntax">Syntax</a>
  <ul class="collapse">
  <li><a href="#syntax-1" id="toc-syntax-1" class="nav-link" data-scroll-target="#syntax-1">Syntax</a></li>
  <li><a href="#syntax-2" id="toc-syntax-2" class="nav-link" data-scroll-target="#syntax-2">Syntax</a></li>
  <li><a href="#syntax-3" id="toc-syntax-3" class="nav-link" data-scroll-target="#syntax-3">Syntax</a></li>
  </ul></li>
  <li><a href="#help" id="toc-help" class="nav-link" data-scroll-target="#help">Help!</a>
  <ul class="collapse">
  <li><a href="#multiple-ways-to-get-help" id="toc-multiple-ways-to-get-help" class="nav-link" data-scroll-target="#multiple-ways-to-get-help">Multiple ways to get help</a></li>
  <li><a href="#getting-help-with-man" id="toc-getting-help-with-man" class="nav-link" data-scroll-target="#getting-help-with-man">Getting help with man</a></li>
  <li><a href="#getting-help-with-man-1" id="toc-getting-help-with-man-1" class="nav-link" data-scroll-target="#getting-help-with-man-1">Getting help with man</a></li>
  <li><a href="#help-practice" id="toc-help-practice" class="nav-link" data-scroll-target="#help-practice">Help practice!</a></li>
  <li><a href="#help-cheat-tldr-cheat.sh" id="toc-help-cheat-tldr-cheat.sh" class="nav-link" data-scroll-target="#help-cheat-tldr-cheat.sh">Help: cheat, tldr, cheat.sh</a></li>
  </ul></li>
  <li><a href="#navigating-your-file-system" id="toc-navigating-your-file-system" class="nav-link" data-scroll-target="#navigating-your-file-system">Navigating your file system</a>
  <ul class="collapse">
  <li><a href="#navigating-your-file-system-1" id="toc-navigating-your-file-system-1" class="nav-link" data-scroll-target="#navigating-your-file-system-1">Navigating your file system</a></li>
  <li><a href="#navigation" id="toc-navigation" class="nav-link" data-scroll-target="#navigation">Navigation</a></li>
  <li><a href="#navigation-1" id="toc-navigation-1" class="nav-link" data-scroll-target="#navigation-1">Navigation</a></li>
  <li><a href="#navigation-2" id="toc-navigation-2" class="nav-link" data-scroll-target="#navigation-2">Navigation</a></li>
  <li><a href="#listing-files-and-their-properties" id="toc-listing-files-and-their-properties" class="nav-link" data-scroll-target="#listing-files-and-their-properties">Listing files and their properties</a></li>
  <li><a href="#listing-files-and-their-properties-1" id="toc-listing-files-and-their-properties-1" class="nav-link" data-scroll-target="#listing-files-and-their-properties-1">Listing files and their properties</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  </ul></li>
  <li><a href="#managing-your-files" id="toc-managing-your-files" class="nav-link" data-scroll-target="#managing-your-files">Managing your files</a>
  <ul class="collapse">
  <li><a href="#managing-your-files-1" id="toc-managing-your-files-1" class="nav-link" data-scroll-target="#managing-your-files-1">Managing your files</a></li>
  <li><a href="#create-touch-and-mkdir" id="toc-create-touch-and-mkdir" class="nav-link" data-scroll-target="#create-touch-and-mkdir">Create: touch and mkdir</a></li>
  <li><a href="#remove-rm-and-rmdir" id="toc-remove-rm-and-rmdir" class="nav-link" data-scroll-target="#remove-rm-and-rmdir">Remove: rm and rmdir</a></li>
  <li><a href="#copy-cp" id="toc-copy-cp" class="nav-link" data-scroll-target="#copy-cp">Copy: cp</a></li>
  <li><a href="#move-and-rename-mv" id="toc-move-and-rename-mv" class="nav-link" data-scroll-target="#move-and-rename-mv">Move (and rename): mv</a></li>
  <li><a href="#rename-en-masse-zmv" id="toc-rename-en-masse-zmv" class="nav-link" data-scroll-target="#rename-en-masse-zmv">Rename <em>en masse</em> : zmv</a></li>
  <li><a href="#wildcards" id="toc-wildcards" class="nav-link" data-scroll-target="#wildcards">Wildcards</a></li>
  <li><a href="#find" id="toc-find" class="nav-link" data-scroll-target="#find">Find</a></li>
  <li><a href="#summary-1" id="toc-summary-1" class="nav-link" data-scroll-target="#summary-1">Summary</a></li>
  </ul></li>
  <li><a href="#working-with-text-files" id="toc-working-with-text-files" class="nav-link" data-scroll-target="#working-with-text-files">Working with text files</a>
  <ul class="collapse">
  <li><a href="#working-with-text-files-1" id="toc-working-with-text-files-1" class="nav-link" data-scroll-target="#working-with-text-files-1">Working with text files</a></li>
  <li><a href="#counting-text-wc" id="toc-counting-text-wc" class="nav-link" data-scroll-target="#counting-text-wc">Counting text: wc</a></li>
  </ul></li>
  <li><a href="#reading-text" id="toc-reading-text" class="nav-link" data-scroll-target="#reading-text">Reading text</a>
  <ul class="collapse">
  <li><a href="#read-everything-cat" id="toc-read-everything-cat" class="nav-link" data-scroll-target="#read-everything-cat">Read everything: cat</a></li>
  <li><a href="#scroll-more-and-less" id="toc-scroll-more-and-less" class="nav-link" data-scroll-target="#scroll-more-and-less">Scroll: more and less</a></li>
  <li><a href="#preview-head-and-tail" id="toc-preview-head-and-tail" class="nav-link" data-scroll-target="#preview-head-and-tail">Preview: head and tail</a></li>
  <li><a href="#preview-head-and-tail-1" id="toc-preview-head-and-tail-1" class="nav-link" data-scroll-target="#preview-head-and-tail-1">Preview: head and tail</a></li>
  <li><a href="#find-patterns-grep" id="toc-find-patterns-grep" class="nav-link" data-scroll-target="#find-patterns-grep">Find patterns: grep</a></li>
  <li><a href="#find-patterns-grep-1" id="toc-find-patterns-grep-1" class="nav-link" data-scroll-target="#find-patterns-grep-1">Find patterns: grep</a></li>
  <li><a href="#manipulate-text-sed" id="toc-manipulate-text-sed" class="nav-link" data-scroll-target="#manipulate-text-sed">Manipulate text: sed</a></li>
  <li><a href="#summary-2" id="toc-summary-2" class="nav-link" data-scroll-target="#summary-2">Summary</a></li>
  <li><a href="#also-make-sure-to-master-regular-expressions" id="toc-also-make-sure-to-master-regular-expressions" class="nav-link" data-scroll-target="#also-make-sure-to-master-regular-expressions">Also, make sure to master regular expressions!</a></li>
  </ul></li>
  <li><a href="#redirects-pipes-and-loops" id="toc-redirects-pipes-and-loops" class="nav-link" data-scroll-target="#redirects-pipes-and-loops">Redirects, pipes, and loops</a>
  <ul class="collapse">
  <li><a href="#redirects-pipes-and-loops-1" id="toc-redirects-pipes-and-loops-1" class="nav-link" data-scroll-target="#redirects-pipes-and-loops-1">Redirects, pipes, and loops</a></li>
  <li><a href="#redirect" id="toc-redirect" class="nav-link" data-scroll-target="#redirect">Redirect: &gt;</a></li>
  <li><a href="#redirect-1" id="toc-redirect-1" class="nav-link" data-scroll-target="#redirect-1">Redirect: &gt;</a></li>
  <li><a href="#pipes" id="toc-pipes" class="nav-link" data-scroll-target="#pipes">Pipes: |</a></li>
  <li><a href="#iteration-with-for-loops" id="toc-iteration-with-for-loops" class="nav-link" data-scroll-target="#iteration-with-for-loops">Iteration with <em>for</em> loops</a></li>
  <li><a href="#example-1-print-a-sequence-of-numbers" id="toc-example-1-print-a-sequence-of-numbers" class="nav-link" data-scroll-target="#example-1-print-a-sequence-of-numbers">Example 1: Print a sequence of numbers</a></li>
  <li><a href="#example-2-combine-csvs" id="toc-example-2-combine-csvs" class="nav-link" data-scroll-target="#example-2-combine-csvs">Example 2: Combine CSVs</a></li>
  <li><a href="#example-2-combine-csvs-1" id="toc-example-2-combine-csvs-1" class="nav-link" data-scroll-target="#example-2-combine-csvs-1">Example 2: Combine CSVs</a></li>
  <li><a href="#example-2-combine-csvs-2" id="toc-example-2-combine-csvs-2" class="nav-link" data-scroll-target="#example-2-combine-csvs-2">Example 2: Combine CSVs</a></li>
  <li><a href="#example-2-combine-csvs-3" id="toc-example-2-combine-csvs-3" class="nav-link" data-scroll-target="#example-2-combine-csvs-3">Example 2: Combine CSVs</a></li>
  </ul></li>
  <li><a href="#scripting" id="toc-scripting" class="nav-link" data-scroll-target="#scripting">Scripting</a>
  <ul class="collapse">
  <li><a href="#scripting-1" id="toc-scripting-1" class="nav-link" data-scroll-target="#scripting-1">Scripting</a></li>
  <li><a href="#hello-world" id="toc-hello-world" class="nav-link" data-scroll-target="#hello-world">Hello World!</a></li>
  </ul></li>
  <li><a href="#next-steps" id="toc-next-steps" class="nav-link" data-scroll-target="#next-steps">Next steps</a>
  <ul class="collapse">
  <li><a href="#things-we-didnt-cover-here" id="toc-things-we-didnt-cover-here" class="nav-link" data-scroll-target="#things-we-didnt-cover-here">Things we didn’t cover here</a></li>
  <li><a href="#additional-material" id="toc-additional-material" class="nav-link" data-scroll-target="#additional-material">Additional material</a></li>
  </ul></li>
  <li><a href="#thank-you" id="toc-thank-you" class="nav-link" data-scroll-target="#thank-you">Thank you!</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="slides-topic-02-02.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span style="font-size: 100%;"> QTM 350: Data Science Computing </span></h1>
<p class="subtitle lead"><span style="font-size: 100%;"> Topic 02: Computational Literacy, Command Line, and Version Control </span></p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Professor: Davi Moreira </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 23, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="topic-overview" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="topic-overview">Topic Overview</h2>
<div class="columns">
<div class="column" style="width:34%;">
<ul>
<li><p>Computational Literacy</p>
<ul>
<li>Binary and Hexadecimal numbers</li>
<li>Characters, ASCII, Unicode</li>
<li>High vrs low level programming languages</li>
<li>Compiled <em>vs</em> interpreted languages</li>
</ul></li>
</ul>
</div><div class="column" style="width:33%;">
<ul>
<li><p><strong>Command Line</strong></p>
<ul>
<li><strong>Shell basics</strong></li>
<li><strong>Help!</strong></li>
<li><strong>Navigating your system</strong></li>
<li><strong>Managing your files</strong></li>
<li><strong>Working with text files</strong></li>
<li><strong>Redirects, pipes, and loops</strong></li>
<li><strong>Scripting</strong></li>
</ul></li>
</ul>
</div><div class="column" style="width:33%;">
<ul>
<li><p>Version Control</p>
<ul>
<li>Data Science Workflow</li>
<li>Reproducibility</li>
<li>Git and GitHub</li>
</ul></li>
</ul>
</div>
</div>
<p><br></p>

<div class="no-row-height column-margin column-container"><div class="margin-aside">
<div class="fragment">
<p><em>this lecture draws on materials from Simon Munzert <a href="https://github.com/intro-to-data-science-21/lectures/tree/main">Intro to Data Science</a>.</em></p>
</div>
</div></div></section>
<section id="command-line" class="level1">
<h1>Command Line</h1>
</section>
<section id="what-is-the-command-line-what-is-the-shell" class="level1">
<h1>What is the command line? What is the shell?</h1>
<section id="a-computer-in-a-nutshell" class="level2">
<h2 class="anchored" data-anchor-id="a-computer-in-a-nutshell">A computer in a nutshell</h2>
<div class="columns">
<div class="column" data-layout-valign="top" style="width:50%;">
<p><img src="figs/kernel-and-user-space.png" class="img-fluid" width="700"></p>
<div class="r-stack">
<p>Credit <a href="https://effective-shell.com/part-2-core-skills/what-is-a-shell/">Dave Kerr</a></p>
</div>
</div><div class="column" data-layout-valign="center" style="width:50%;">
<!--- --->
<div class="r-fit-text">
<ul>
<li>The <strong>operating system (OS)</strong> is system software that interfaces with (and manages access to) a computer’s hardware. It also provides software resources.</li>
<li>The OS is divided into the kernel and user space.</li>
<li>The <strong>kernel</strong> is the core of the OS. It’s responsible for interfacing with hardware (drivers), managing resources etc. Running software in the kernel is <em>extremely</em> sensitive! That’s why users are kept away from it.</li>
<li>The <strong>user space</strong> provides an interface for users, who can run programs/applications on the machine. Hardware access of programs (e.g., memory usage) is managed by the kernel. Programs in user space are essentially in sandboxes, which sets a limit to how much damage they can do.</li>
</ul>
</div>
</div>
</div>
</section>
<section id="a-computer-in-a-nutshell-1" class="level2">
<h2 class="anchored" data-anchor-id="a-computer-in-a-nutshell-1">A computer in a nutshell</h2>
<div class="columns">
<div class="column" data-layout-valign="top" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/kernel-and-user-space.png" class="quarto-figure quarto-figure-center figure-img" height="450"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/walnut.jpeg" class="quarto-figure quarto-figure-center figure-img" height="150"></p>
</figure>
</div>
<div class="r-stack">
<p>Credit <a href="https://effective-shell.com/part-2-core-skills/what-is-a-shell/">Dave Kerr</a>/<a href="https://commons.wikimedia.org/w/index.php?curid=49069244">Kkchaudhary11</a></p>
</div>
</div><div class="column" data-layout-valign="center" style="width:50%;">
<!---::: r-fit-text --->
<ul>
<li>The <strong>shell</strong> is just a general name for any user space program that allows access to resources in the system, via some kind of interface.</li>
<li>Shells come in many different flavours but are generally provided to aid a human operator in accessing the system. This could be interactively, by <strong>typing at a terminal</strong>, or via <strong>scripts</strong>, which are files that contain a sequence of commands.</li>
<li>Modern computers use <strong>graphical user interfaces (GUIs)</strong> as the standard tool for human-computer interaction.</li>
<li><strong>Why “kernel” and “shell”?</strong> The kernel is the soft, edible part of a nut or seed, which is surrounded by a shell to protect it. Useful metaphor, no?</li>
</ul>
<!---:::--->
</div>
</div>
</section>
<section id="interacting-with-the-shell" class="level2">
<h2 class="anchored" data-anchor-id="interacting-with-the-shell">Interacting with the shell</h2>
<div class="columns">
<div class="column" data-layout-valign="top" data-layout-halign="center" style="width:50%;">
<center>
<img src="figs/diagram3-terminal-and-shell.png" class="quarto-figure quarto-figure-center" height="450">
</center>
<p><br></p>
<center>
<img src="figs/teletype.jpg" class="quarto-figure quarto-figure-right" height="150"> <img src="figs/image-ibm3486.jpeg" class="quarto-figure quarto-figure-right" height="150">
</center>
<div class="r-stack">
<p>Credit <a href="https://effective-shell.com/part-2-core-skills/what-is-a-shell/">Dave Kerr</a>/<a href="https://en.wikipedia.org/wiki/Teletype_Model_33#/media/File:Teletype-IMG_7287.jpg">Rama/Musée Bolo</a>/<a href="https://de.m.wikipedia.org/wiki/Datei:IBM_3486_terminal.jpg">ClickRick</a></p>
</div>
</div><div class="column" style="width:50%;">
<!---::: r-fit-text --->
<ul>
<li>Things are still a bit more complicated.</li>
<li>We’re not directly interacting with the “shell” but using a <strong>terminal</strong>.</li>
<li>A terminal is just a program that <strong>reads input</strong> from the keyboard, <strong>passes that input</strong> to another program, and <strong>displays the results</strong> on the screen.</li>
<li>A shell program on its own does not do this - it requires a terminal as an interface.</li>
<li><strong>Why “terminal”?</strong> Back in the old days (even before computer screen existed), terminal machines (hardware!) were used to let humans interface with large machines (“mainframes”). Often many terminals were connected to a single machine.</li>
<li>When you want to work with a computer in a data center (or remotely ~ cloud computing), you’ll still do pretty much the same.</li>
</ul>
<!---:::--->
</div>
</div>
</section>
<section id="interacting-with-the-shell-1" class="level2">
<h2 class="anchored" data-anchor-id="interacting-with-the-shell-1">Interacting with the shell</h2>
<div class="columns">
<div class="column" data-align="center" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/diagram3-terminal-and-shell.png" class="quarto-figure quarto-figure-center figure-img" height="500"></p>
</figure>
</div>
<div class="r-stack">
<p>Credit <a href="https://effective-shell.com/part-2-core-skills/what-is-a-shell/">Dave Kerr</a></p>
</div>
</div><div class="column" style="width:50%;">
<ul>
<li><p>Terminals are really quite simple - they’re just interfaces.</p></li>
<li><p>The first thing that a terminal program will do is run a shell program - a program that we can use to operate the computer.</p></li>
<li><p><strong>Back to the shell:</strong> the shell usually takes input</p>
<pre><code>(a) interactively from the user via the terminal's **command line**.
(b) executes scripts (without command line).</code></pre></li>
<li><p>In interactive mode the shell then returns output</p>
<pre><code>(a) to the terminal where it is printed/shown.
(b) to files or other locations.</code></pre></li>
<li><p>The command line (or command prompt) represents what is shown and entered in the terminal. They can be <a href="https://ohmyz.sh/">customized</a> (e.g., with color highlighting) to make interaction more convenient.</p></li>
</ul>
</div>
</div>
</section>
<section id="shell-variants" class="level2">
<h2 class="anchored" data-anchor-id="shell-variants">Shell variants</h2>
<div class="columns">
<div class="column" data-layout-halign="center" style="width:60%;">
<div class="r-stack">
<p><em>Left:</em> Command Prompt, <em>Right:</em> Bash <img src="figs/command-prompt-screenshot.png" class="quarto-figure quarto-figure-center" height="300"> <img src="figs/bash-screenshot.png" class="quarto-figure quarto-figure-center" height="300"> <br> <em>Left:</em> C Shell, <em>Right:</em> more shells <br> <img src="figs/cshell-screenshot.png" class="quarto-figure quarto-figure-center" height="250"> <img src="figs/seashells.jpeg" class="quarto-figure quarto-figure-center" height="250"> <br> Credit <a href="https://commons.wikimedia.org/wiki/File:Different_types_of_shells.jpg">Read-back spider</a>/<a href="https://effective-shell.com/part-2-core-skills/what-is-a-shell/">Dave Kerr</a></p>
</div>
</div><div class="column" style="width:40%;">
<!---::: r-fit-text --->
<ul>
<li>It is important to note that there are many different shell programs, and they <a href="https://en.wikipedia.org/wiki/Comparison_of_command_shells">differ in terms of functionality</a>.</li>
<li>On most Unix-like systems, the default shell is a program called <a href="https://en.wikipedia.org/wiki/Bash_(Unix_shell)"><strong>bash</strong></a>, which stands for “Bourne Again Shell”.</li>
<li>Other examples are the <a href="https://en.wikipedia.org/wiki/Z_shell">Z Shell</a> (or zsh; default on MacOS), <a href="https://en.wikipedia.org/wiki/Cmd.exe">Windows Command Prompt</a> (cmd.exe, the default CLI on MS Windows), <a href="https://en.wikipedia.org/wiki/PowerShell">Windows PowerShell</a>, <a href="https://en.wikipedia.org/wiki/C_shell">C Shell</a>, and many more.</li>
<li>When a terminal opens, it will immediately start the user’s preferred shell program. (This can be <a href="https://effective-shell.com/part-1-transitioning-to-the-shell/getting-started/">changed</a>.)</li>
</ul>
<!---:::--->
</div>
</div>
<!---
# What is the command line? What is the shell? (cont.)

.pull-left[
### Summing things up

- All that being said, don't be thrown off by terminology: *shell*, *terminal*,  *command prompt*, *command line*, *bash*, etc.
- In everyday usage they  are all referring to a **command line interface** (CLI) with which we can talk to our computer, execute (chains of) programs, wrangling input and output, and so much more.
]

.pull-right-center[
<div align="center">
<br>
<img src="figs/terminal-meme.jpeg" width="350"/>
</div>
]

--->
</section>
</section>
<section id="why-bother-with-the-shell" class="level1">
<h1>Why bother with the shell?</h1>
<section id="why-bother-with-the-shell-1" class="level2">
<h2 class="anchored" data-anchor-id="why-bother-with-the-shell-1">Why bother with the shell?</h2>
<div class="columns">
<div class="column" data-layout-halign="center" style="width:50%;">
<p><br></p>
<center>
<strong>Why using this…</strong>
</center>
<p><br></p>
<center>
<img src="figs/zsh-screenshot.png" class="quarto-figure quarto-figure-center" height="500">
</center>
<p><br></p>
</div><div class="column" data-align="center" style="width:50%;">
<p><br></p>
<center>
<strong>… instead of this?</strong>
</center>
<p><br></p>
<center>
<p><img src="figs/windows31-screenshot.png" class="quarto-figure quarto-figure-center" height="250"> <img src="figs/windows11-screenshot.jpg" class="quarto-figure quarto-figure-center" height="250"></p>
<p><img src="figs/macos8-screenshot.png" class="quarto-figure quarto-figure-center" height="250"> <img src="figs/macos-finder-screenshot.jpeg" class="quarto-figure quarto-figure-center" height="250"></p>
</center>
<p><br></p>
</div>
</div>
</section>
<section id="why-bother-with-the-shell-2" class="level2">
<h2 class="anchored" data-anchor-id="why-bother-with-the-shell-2">Why bother with the shell?</h2>
<ol type="1">
<li><p><strong>Speed.</strong> Typing is fast: A skilled shell user can manipulate a system at dazzling speeds just using a keyboard. Typing commands is generally much faster than exploring through user interfaces with a mouse.</p></li>
<li><p><strong>Power.</strong> Both for executing commands and for fixing problems. There are some things you just can’t do in an IDE or GUI. It also avoids memory complications associated with certain applications and/or IDEs.</p></li>
<li><p><strong>Reproducibility.</strong> Scripting is reproducible, while clicking is not.</p></li>
<li><p><strong>Portability.</strong> A shell can be used to interface to almost any type of computer, from a mainframe to a Raspberry Pi, in a very similar way. The shell is often the only game in town for high performance computing (interacting with servers and super computers).</p></li>
<li><p><strong>Automation.</strong> Shells are programmable: Working in the shell allows you to program workflows, that is create scripts to automate time-consuming or repetitive processes.</p></li>
<li><p><strong>Become a marketable data scientist.</strong> Modern programming is often polyglot. The shell provides a common interface for tooling. Modern solutions are often built to run in containers on Linux. In this environment shell knowledge has become very valuable. In short, <a href="https://effective-shell.com/part-1-transitioning-to-the-shell/the-renaissance-of-the-shell/">the shell is having a renaissance</a> in the age of data science.</p></li>
</ol>
</section>
</section>
<section id="the-unix-philosophy" class="level1">
<h1>The Unix philosophy</h1>
<section id="the-unix-philosophy-1" class="level2">
<h2 class="anchored" data-anchor-id="the-unix-philosophy-1">The Unix philosophy</h2>
<p>The shell tools that we’re going to be using have their roots in the <a href="https://en.wikipedia.org/wiki/Unix">Unix</a> family of operating systems originally developed at Bells Labs in the 1970s.</p>
<p>Besides paying homage, acknowledging the Unix lineage is important because these tools still embody the “<a href="https://en.wikipedia.org/wiki/Unix_philosophy">Unix philosophy</a>”:</p>
<blockquote class="blockquote">
<p><strong>Do One Thing And Do It Well</strong></p>
</blockquote>
<p>. . .</p>
<p>By pairing and chaining well-designed individual components, we can build powerful and much more complex larger systems.</p>
<p>You can see why the Unix philosophy is also referred to as “minimalist and modular”.</p>
<p>Again, this philosophy is very clearly expressed in the design and functionality of the Unix shell.</p>
</section>
<section id="things-to-use-the-shell-for" class="level2">
<h2 class="anchored" data-anchor-id="things-to-use-the-shell-for">Things to use the shell for</h2>
<ul>
<li><p>Version control with Git</p></li>
<li><p>Renaming and moving files <em>en masse</em></p></li>
<li><p>Finding things on your computer</p></li>
<li><p>Combining and manipulating PDFs</p></li>
<li><p>Installing and updating software</p></li>
<li><p>Scheduling tasks</p></li>
<li><p>Monitoring system resources</p></li>
<li><p>Connecting to cloud environments</p></li>
<li><p>Running analyses (“jobs”) on super computers</p></li>
<li><p>etc.</p></li>
</ul>
</section>
</section>
<section id="shell-basics" class="level1">
<h1>Shell basics</h1>
<section id="shell-first-look" class="level2">
<h2 class="anchored" data-anchor-id="shell-first-look">Shell: First look</h2>
<p>Let’s open up our shell.</p>
<p>A convenient way to do this is through <a href="https://support.rstudio.com/hc/en-us/articles/115010737148-Using-the-RStudio-Terminal">RStudio’s built-in Terminal</a>.</p>
<p>Hitting <code>Shift</code>+<code>Alt</code>+<code>T</code> (or <code>Shift</code>+<code>⌥</code>+<code>R</code> on a Mac) will cause a “Terminal” tab to open up next to the “Console” tab.</p>
<p>Your system default shell is loaded. To find out what that is, type:</p>
<pre class="{bash}"><code>echo $SHELL</code></pre>
<p><br></p>
<div id="0563c563" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>echo $SHELL</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>/bin/zsh</code></pre>
</div>
</div>
<p><br></p>
<p>It’s Z bash in my case.</p>
<p>. . .</p>
<p>Of course, it’s always possible to open up the Shell directly if you prefer. It’s your turn!</p>
<ul>
<li><p><a href="https://www.wikihow.com/Open-a-Terminal-Window-in-Ubuntu">Linux</a></p></li>
<li><p><a href="https://www.techwalla.com/articles/how-to-open-terminal-on-a-macbook">Mac</a></p></li>
<li><p><a href="https://www.howtogeek.com/265900/everything-you-can-do-with-windows-10s-new-bash-shell/">Windows</a></p></li>
</ul>
</section>
<section id="shell-first-look-1" class="level2">
<h2 class="anchored" data-anchor-id="shell-first-look-1">Shell: First look</h2>
<p>You should see something like:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a> <span class="ex">username@hostname:~$</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This is shell-speak for: “Who am I and where am I?” <!-- - Type in `$ whoami` without the leading dollar sign to confirm. --></p>
<ul>
<li><p><code>username</code> denotes a specific user (one of potentially many on this computer).</p></li>
<li><p><code>@hostname</code> denotes the name of the computer or server.</p></li>
<li><p><code>:~</code> denotes the directory path (where <code>~</code> signifies the user’s home directory).</p></li>
<li><p><code>$</code> (or maybe <code>%</code>) denotes the start of the command prompt.</p>
<ul>
<li>(For a special “superuser” called root, the dollar sign will change to a <code>#</code>).</li>
</ul></li>
</ul>
</section>
<section id="useful-keyboard-shortcuts" class="level2">
<h2 class="anchored" data-anchor-id="useful-keyboard-shortcuts">Useful keyboard shortcuts</h2>
<ul>
<li><p><code>Tab</code> completion.</p></li>
<li><p>Use the <code>↑</code> (and <code>↓</code>) keys to scroll through previous commands.</p></li>
<li><p><code>Ctrl</code>+<code>→</code> (and <code>Ctrl</code>+<code>←</code>) to skip whole words at a time.</p></li>
<li><p><code>Ctrl</code>+<code>a</code> moves the cursor to the beginning of the line.</p></li>
<li><p><code>Ctrl</code>+<code>e</code> moves the cursor to the end of the line.</p></li>
<li><p><code>Ctrl</code>+<code>k</code> deletes everything to the right of the cursor.</p></li>
<li><p><code>Ctrl</code>+<code>u</code> deletes everything to the left of the cursor.</p></li>
<li><p><code>Ctrl</code>+<code>Shift</code>+<code>c</code> to copy and <code>Ctrl</code>+<code>Shift</code>+<code>v</code> to paste (or just <code>⌘</code>+ <code>c/v</code> on a Mac).</p></li>
<li><p><code>Ctrl</code>+<code>l</code> clears your terminal.</p></li>
</ul>
</section>
</section>
<section id="syntax" class="level1">
<h1>Syntax</h1>
<section id="syntax-1" class="level2">
<h2 class="anchored" data-anchor-id="syntax-1">Syntax</h2>
<div class="columns">
<div class="column" data-align="center" style="width:50%;">
<p><br> All Bash commands have the same basic syntax:</p>
<center>
<strong>command option(s) argument(s)</strong>
</center>
<p><strong>Examples:</strong> <br></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-lh</span> ~/Documents/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><br></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sort <span class="at">-u</span> myfile.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column" data-align="center" style="width:50%;">
<div class="fragment">
<p><strong>Commands</strong> <br></p>
<ul>
<li><p>You don’t always need options or arguments.</p></li>
<li><p>For example:</p>
<ul>
<li><code>$ ls ~/Documents/</code> and <code>$ ls -lh</code> are both valid commands that will yield output.</li>
</ul></li>
</ul>
<p><br></p>
<ul>
<li>However, you always need a command.</li>
</ul>
</div>
</div>
</div>
</section>
<section id="syntax-2" class="level2">
<h2 class="anchored" data-anchor-id="syntax-2">Syntax</h2>
<div class="columns">
<div class="column" data-align="center" style="width:50%;">
<p><br> All Bash commands have the same basic syntax:</p>
<center>
command <strong>option(s)</strong> argument(s)
</center>
<p><strong>Examples:</strong> <br></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls <span class="kw">`</span><span class="ex">-lh</span><span class="kw">`</span> ~/Documents/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><br></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sort <span class="kw">`</span><span class="ex">-u</span><span class="kw">`</span> myfile.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column" style="width: 40%; font-size: 70%;">
<!---::: r-fit-text--->
<p><strong>Options</strong> (also called <strong>Flags</strong>)</p>
<ul>
<li><p>Start with a dash.</p></li>
<li><p>Usually one letter.</p></li>
<li><p>Multiple options can be chained under a single dash.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-l</span> <span class="at">-a</span> <span class="at">-h</span> /var/log <span class="co">## This works</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-lah</span> /var/log <span class="co">## So does this</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>An exception is with (rarer) options requiring two dashes.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">--group-directories-first</span> <span class="at">--human-readable</span> /var/log</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><code>l</code>: Use a long listing format. This option shows detailed information about the files and directories.</p></li>
<li><p><code>h</code>: With <code>-l</code>, print sizes in human-readable format (e.g., KB, MB).</p></li>
<li><p><code>u</code>: Unique, sort will write only one of two lines that compare equal. It filters out the duplicate entries in the output.</p></li>
<li><p>Think it’s difficult to memorize what the individual letters stand for? You’re totally right.</p></li>
</ul>
<!---:::--->
</div>
</div>
</section>
<section id="syntax-3" class="level2">
<h2 class="anchored" data-anchor-id="syntax-3">Syntax</h2>
<div class="columns">
<div class="column" data-align="center" style="width:50%;">
<p><br> All Bash commands have the same basic syntax:</p>
<center>
command option(s) <strong>argument(s)</strong>
</center>
<p><strong>Examples:</strong> <br></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-lh</span> <span class="kw">`</span><span class="ex">~/Documents/</span><span class="kw">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><br></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sort <span class="at">-u</span> <span class="kw">`</span><span class="ex">myfile.txt</span><span class="kw">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column" data-align="center" style="width:50%;">
<p><strong>Arguments</strong> <br></p>
<ul>
<li><p>Tell the command <em>what</em> to operate on.</p></li>
<li><p>Totally depends on the command what legit inputs are.</p></li>
<li><p>Can be a file, path, a set of files and folders, a string, and more</p></li>
<li><p>Sometimes more than just one argument is needed:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mv figs/cat.JPG best-figs/cat.jpeg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
</div>
</div>
</section>
</section>
<section id="help" class="level1">
<h1>Help!</h1>
<section id="multiple-ways-to-get-help" class="level2">
<h2 class="anchored" data-anchor-id="multiple-ways-to-get-help">Multiple ways to get help</h2>
<div class="columns">
<div class="column" data-align="center" style="width:50%;">
<ul>
<li><p>The <code>man</code> tool can be used to look at the manual page for a topic.</p></li>
<li><p>The <code>man</code> pages are grouped into sections, we can see them with <code>man man</code>.</p></li>
<li><p>The <code>tldr</code> tool shows a very short description of a tool, which covers the most common use cases only.</p></li>
<li><p>The <a href="https://cht.sh/"><code>cht.sh</code></a> website can be used directly from the shell to get help on tools or even ask specific questions. (Or install <code>cheat</code>.)</p></li>
<li><p>For more info on how to get help, see <a href="https://effective-shell.com/part-1-transitioning-to-the-shell/getting-help/">here</a>.</p></li>
<li><p>Actually, typing <code>man bash</code> and reading/skimming the whole thing might be a good start to learn basic command line speak.</p></li>
</ul>
</div><div class="column" data-align="center" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/beatles-help.jpeg" class="quarto-figure quarto-figure-center figure-img" height="500"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="getting-help-with-man" class="level2">
<h2 class="anchored" data-anchor-id="getting-help-with-man">Getting help with man</h2>
<p><br></p>
<p>The <code>man</code> command (“manual pages”) is your friend if you need help.</p>
<pre class="{bash}"><code>man ls</code></pre>
<p><br></p>
<div id="604dea28" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>man ls</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>LS(1)                       General Commands Manual                      LS(1)

NNAAMMEE
     llss – list directory contents

SSYYNNOOPPSSIISS
     llss [--@@AABBCCFFGGHHIILLOOPPRRSSTTUUWWaabbccddeeffgghhiikkllmmnnooppqqrrssttuuvvwwxxyy11%%,,] [----ccoolloorr=_w_h_e_n]
        [--DD _f_o_r_m_a_t] [_f_i_l_e _._._.]

DDEESSCCRRIIPPTTIIOONN
     For each operand that names a _f_i_l_e of a type other than directory, llss
     displays its name as well as any requested, associated information.  For
     each operand that names a _f_i_l_e of type directory, llss displays the names
     of files contained within that directory, as well as any requested,
     associated information.

     If no operands are given, the contents of the current directory are
     displayed.  If more than one operand is given, non-directory operands are
     displayed first; directory and non-directory operands are sorted
     separately and in lexicographical order.

     The following options are available:

     --@@      Display extended attribute keys and sizes in long (--ll) output.

     --AA      Include directory entries whose names begin with a dot (‘_.’)
             except for _. and _._..  Automatically set for the super-user unless
             --II is specified.

     --BB      Force printing of non-printable characters (as defined by
             ctype(3) and current locale settings) in file names as \_x_x_x,
             where _x_x_x is the numeric value of the character in octal.  This
             option is not defined in IEEE Std 1003.1-2008 (“POSIX.1”).

     --CC      Force multi-column output; this is the default when output is to
             a terminal.

     --DD _f_o_r_m_a_t
             When printing in the long (--ll) format, use _f_o_r_m_a_t to format the
             date and time output.  The argument _f_o_r_m_a_t is a string used by
             strftime(3).  Depending on the choice of format string, this may
             result in a different number of columns in the output.  This
             option overrides the --TT option.  This option is not defined in
             IEEE Std 1003.1-2008 (“POSIX.1”).

     --FF      Display a slash (‘/’) immediately after each pathname that is a
             directory, an asterisk (‘*’) after each that is executable, an at
             sign (‘@’) after each symbolic link, an equals sign (‘=’) after
             each socket, a percent sign (‘%’) after each whiteout, and a
             vertical bar (‘|’) after each that is a FIFO.

     --GG      Enable colorized output.  This option is equivalent to defining
             CLICOLOR or COLORTERM in the environment and setting
             ----ccoolloorr=_a_u_t_o.  (See below.)  This functionality can be compiled
             out by removing the definition of COLORLS.  This option is not
             defined in IEEE Std 1003.1-2008 (“POSIX.1”).

     --HH      Symbolic links on the command line are followed.  This option is
             assumed if none of the --FF, --dd, or --ll options are specified.

     --II      Prevent --AA from being automatically set for the super-user.  This
             option is not defined in IEEE Std 1003.1-2008 (“POSIX.1”).

     --LL      Follow all symbolic links to final target and list the file or
             directory the link references rather than the link itself.  This
             option cancels the --PP option.

     --OO      Include the file flags in a long (--ll) output.  This option is
             incompatible with IEEE Std 1003.1-2008 (“POSIX.1”).  See
             chflags(1) for a list of file flags and their meanings.

     --PP      If argument is a symbolic link, list the link itself rather than
             the object the link references.  This option cancels the --HH and
             --LL options.

     --RR      Recursively list subdirectories encountered.

     --SS      Sort by size (largest file first) before sorting the operands in
             lexicographical order.

     --TT      When printing in the long (--ll) format, display complete time
             information for the file, including month, day, hour, minute,
             second, and year.  The --DD option gives even more control over the
             output format.  This option is not defined in IEEE Std
             1003.1-2008 (“POSIX.1”).

     --UU      Use time when file was created for sorting or printing.  This
             option is not defined in IEEE Std 1003.1-2008 (“POSIX.1”).

     --WW      Display whiteouts when scanning directories.  This option is not
             defined in IEEE Std 1003.1-2008 (“POSIX.1”).

     --aa      Include directory entries whose names begin with a dot (‘_.’).

     --bb      As --BB, but use C escape codes whenever possible.  This option is
             not defined in IEEE Std 1003.1-2008 (“POSIX.1”).

     --cc      Use time when file status was last changed for sorting or
             printing.

     ----ccoolloorr=_w_h_e_n
             Output colored escape sequences based on _w_h_e_n, which may be set
             to either aallwwaayyss, aauuttoo, or nneevveerr.

             aallwwaayyss will make llss always output color.  If TERM is unset or set
             to an invalid terminal, then llss will fall back to explicit ANSI
             escape sequences without the help of termcap(5).  aallwwaayyss is the
             default if ----ccoolloorr is specified without an argument.

             aauuttoo will make llss output escape sequences based on termcap(5),
             but only if stdout is a tty and either the --GG flag is specified
             or the COLORTERM environment variable is set and not empty.

             nneevveerr will disable color regardless of environment variables.
             nneevveerr is the default when neither ----ccoolloorr nor --GG is specified.

             For compatibility with GNU coreutils, llss supports yyeess or ffoorrccee as
             equivalent to aallwwaayyss, nnoo or nnoonnee as equivalent to nneevveerr, and ttttyy
             or iiff--ttttyy as equivalent to aauuttoo.

     --dd      Directories are listed as plain files (not searched recursively).

     --ee      Print the Access Control List (ACL) associated with the file, if
             present, in long (--ll) output.

     --ff      Output is not sorted.  This option turns on --aa.  It also negates
             the effect of the --rr, --SS and --tt options.  As allowed by IEEE Std
             1003.1-2008 (“POSIX.1”), this option has no effect on the --dd, --ll,
             --RR and --ss options.

     --gg      This option has no effect.  It is only available for
             compatibility with 4.3BSD, where it was used to display the group
             name in the long (--ll) format output.  This option is incompatible
             with IEEE Std 1003.1-2008 (“POSIX.1”).

     --hh      When used with the --ll option, use unit suffixes: Byte, Kilobyte,
             Megabyte, Gigabyte, Terabyte and Petabyte in order to reduce the
             number of digits to four or fewer using base 2 for sizes.  This
             option is not defined in IEEE Std 1003.1-2008 (“POSIX.1”).

     --ii      For each file, print the file's file serial number (inode
             number).

     --kk      This has the same effect as setting environment variable
             BLOCKSIZE to 1024, except that it also nullifies any --hh options
             to its left.

     --ll      (The lowercase letter “ell”.) List files in the long format, as
             described in the _T_h_e _L_o_n_g _F_o_r_m_a_t subsection below.

     --mm      Stream output format; list files across the page, separated by
             commas.

     --nn      Display user and group IDs numerically rather than converting to
             a user or group name in a long (--ll) output.  This option turns on
             the --ll option.

     --oo      List in long format, but omit the group id.

     --pp      Write a slash (‘/’) after each filename if that file is a
             directory.

     --qq      Force printing of non-graphic characters in file names as the
             character ‘?’; this is the default when output is to a terminal.

     --rr      Reverse the order of the sort.

     --ss      Display the number of blocks used in the file system by each
             file.  Block sizes and directory totals are handled as described
             in _T_h_e _L_o_n_g _F_o_r_m_a_t subsection below, except (if the long format
             is not also requested) the directory totals are not output when
             the output is in a single column, even if multi-column output is
             requested.  (--ll) format, display complete time information for
             the file, including month, day, hour, minute, second, and year.
             The --DD option gives even more control over the output format.
             This option is not defined in IEEE Std 1003.1-2008 (“POSIX.1”).

     --tt      Sort by descending time modified (most recently modified first).
             If two files have the same modification timestamp, sort their
             names in ascending lexicographical order.  The --rr option reverses
             both of these sort orders.

             Note that these sort orders are contradictory: the time sequence
             is in descending order, the lexicographical sort is in ascending
             order.  This behavior is mandated by IEEE Std 1003.2 (“POSIX.2”).
             This feature can cause problems listing files stored with
             sequential names on FAT file systems, such as from digital
             cameras, where it is possible to have more than one image with
             the same timestamp.  In such a case, the photos cannot be listed
             in the sequence in which they were taken.  To ensure the same
             sort order for time and for lexicographical sorting, set the
             environment variable LS_SAMESORT or use the --yy option.  This
             causes llss to reverse the lexicographical sort order when sorting
             files with the same modification timestamp.

     --uu      Use time of last access, instead of time of last modification of
             the file for sorting (--tt) or long printing (--ll).

     --vv      Force unedited printing of non-graphic characters; this is the
             default when output is not to a terminal.

     --ww      Force raw printing of non-printable characters.  This is the
             default when output is not to a terminal.  This option is not
             defined in IEEE Std 1003.1-2001 (“POSIX.1”).

     --xx      The same as --CC, except that the multi-column output is produced
             with entries sorted across, rather than down, the columns.

     --yy      When the --tt option is set, sort the alphabetical output in the
             same order as the time output.  This has the same effect as
             setting LS_SAMESORT.  See the description of the --tt option for
             more details.  This option is not defined in IEEE Std 1003.1-2001
             (“POSIX.1”).

     --%%      Distinguish dataless files and directories with a '%' character
             in long (--ll) output, and don't materialize dataless directories
             when listing them.

     --11      (The numeric digit “one”.) Force output to be one entry per line.
             This is the default when output is not to a terminal.

     --,      (Comma) When the --ll option is set, print file sizes grouped and
             separated by thousands using the non-monetary separator returned
             by localeconv(3), typically a comma or period.  If no locale is
             set, or the locale does not have a non-monetary separator, this
             option has no effect.  This option is not defined in IEEE Std
             1003.1-2001 (“POSIX.1”).

     The --11, --CC, --xx, and --ll options all override each other; the last one
     specified determines the format used.

     The --cc, --uu, and --UU options all override each other; the last one
     specified determines the file time used.

     The --SS and --tt options override each other; the last one specified
     determines the sort order used.

     The --BB, --bb, --ww, and --qq options all override each other; the last one
     specified determines the format used for non-printable characters.

     The --HH, --LL and --PP options all override each other (either partially or
     fully); they are applied in the order specified.

     By default, llss lists one entry per line to standard output; the
     exceptions are to terminals or when the --CC or --xx options are specified.

     File information is displayed with one or more ⟨blank⟩s separating the
     information associated with the --ii, --ss, and --ll options.

   TThhee LLoonngg FFoorrmmaatt
     If the --ll option is given, the following information is displayed for
     each file: file mode, number of links, owner name, group name, number of
     bytes in the file, abbreviated month, day-of-month file was last
     modified, hour file last modified, minute file last modified, and the
     pathname.  If the file or directory has extended attributes, the
     permissions field printed by the --ll option is followed by a '@'
     character.  Otherwise, if the file or directory has extended security
     information (such as an access control list), the permissions field
     printed by the --ll option is followed by a '+' character.  If the --%%
     option is given, a '%' character follows the permissions field for
     dataless files and directories, possibly replacing the '@' or '+'
     character.

     If the modification time of the file is more than 6 months in the past or
     future, and the --DD or --TT are not specified, then the year of the last
     modification is displayed in place of the hour and minute fields.

     If the owner or group names are not a known user or group name, or the --nn
     option is given, the numeric ID's are displayed.

     If the file is a character special or block special file, the device
     number for the file is displayed in the size field.  If the file is a
     symbolic link the pathname of the linked-to file is preceded by “-&gt;”.

     The listing of a directory's contents is preceded by a labeled total
     number of blocks used in the file system by the files which are listed as
     the directory's contents (which may or may not include _. and _._. and other
     files which start with a dot, depending on other options).

     The default block size is 512 bytes.  The block size may be set with
     option --kk or environment variable BLOCKSIZE.  Numbers of blocks in the
     output will have been rounded up so the numbers of bytes is at least as
     many as used by the corresponding file system blocks (which might have a
     different size).

     The file mode printed under the --ll option consists of the entry type and
     the permissions.  The entry type character describes the type of file, as
     follows:

           --     Regular file.
           bb     Block special file.
           cc     Character special file.
           dd     Directory.
           ll     Symbolic link.
           pp     FIFO.
           ss     Socket.
           ww     Whiteout.

     The next three fields are three characters each: owner permissions, group
     permissions, and other permissions.  Each field has three character
     positions:

           1.   If rr, the file is readable; if --, it is not readable.

           2.   If ww, the file is writable; if --, it is not writable.

           3.   The first of the following that applies:

                      SS     If in the owner permissions, the file is not
                            executable and set-user-ID mode is set.  If in the
                            group permissions, the file is not executable and
                            set-group-ID mode is set.

                      ss     If in the owner permissions, the file is
                            executable and set-user-ID mode is set.  If in the
                            group permissions, the file is executable and
                            setgroup-ID mode is set.

                      xx     The file is executable or the directory is
                            searchable.

                      --     The file is neither readable, writable,
                            executable, nor set-user-ID nor set-group-ID mode,
                            nor sticky.  (See below.)

                These next two apply only to the third character in the last
                group (other permissions).

                      TT     The sticky bit is set (mode 1000), but not execute
                            or search permission.  (See chmod(1) or
                            sticky(7).)

                      tt     The sticky bit is set (mode 1000), and is
                            searchable or executable.  (See chmod(1) or
                            sticky(7).)

     The next field contains a plus (‘+’) character if the file has an ACL, or
     a space (‘ ’) if it does not.  The llss utility does not show the actual
     ACL unless the --ee option is used in conjunction with the --ll option.

EENNVVIIRROONNMMEENNTT
     The following environment variables affect the execution of llss:

     BLOCKSIZE           If this is set, its value, rounded up to 512 or down
                         to a multiple of 512, will be used as the block size
                         in bytes by the --ll and --ss options.  See _T_h_e _L_o_n_g
                         _F_o_r_m_a_t subsection for more information.

     CLICOLOR            Use ANSI color sequences to distinguish file types.
                         See LSCOLORS below.  In addition to the file types
                         mentioned in the --FF option some extra attributes
                         (setuid bit set, etc.) are also displayed.  The
                         colorization is dependent on a terminal type with the
                         proper termcap(5) capabilities.  The default “cons25”
                         console has the proper capabilities, but to display
                         the colors in an xterm(1), for example, the TERM
                         variable must be set to “xterm-color”.  Other
                         terminal types may require similar adjustments.
                         Colorization is silently disabled if the output is
                         not directed to a terminal unless the CLICOLOR_FORCE
                         variable is defined or ----ccoolloorr is set to “always”.

     CLICOLOR_FORCE      Color sequences are normally disabled if the output
                         is not directed to a terminal.  This can be
                         overridden by setting this variable.  The TERM
                         variable still needs to reference a color capable
                         terminal however otherwise it is not possible to
                         determine which color sequences to use.

     COLORTERM           See description for CLICOLOR above.

     COLUMNS             If this variable contains a string representing a
                         decimal integer, it is used as the column position
                         width for displaying multiple-text-column output.
                         The llss utility calculates how many pathname text
                         columns to display based on the width provided.  (See
                         --CC and --xx.)

     LANG                The locale to use when determining the order of day
                         and month in the long --ll format output.  See
                         environ(7) for more information.

     LSCOLORS            The value of this variable describes what color to
                         use for which attribute when colors are enabled with
                         CLICOLOR or COLORTERM.  This string is a
                         concatenation of pairs of the format _f_b, where _f is
                         the foreground color and _b is the background color.

                         The color designators are as follows:

                               aa     black
                               bb     red
                               cc     green
                               dd     brown
                               ee     blue
                               ff     magenta
                               gg     cyan
                               hh     light grey
                               AA     bold black, usually shows up as dark grey
                               BB     bold red
                               CC     bold green
                               DD     bold brown, usually shows up as yellow
                               EE     bold blue
                               FF     bold magenta
                               GG     bold cyan
                               HH     bold light grey; looks like bright white
                               xx     default foreground or background

                         Note that the above are standard ANSI colors.  The
                         actual display may differ depending on the color
                         capabilities of the terminal in use.

                         The order of the attributes are as follows:

                               1.   directory
                               2.   symbolic link
                               3.   socket
                               4.   pipe
                               5.   executable
                               6.   block special
                               7.   character special
                               8.   executable with setuid bit set
                               9.   executable with setgid bit set
                               10.  directory writable to others, with sticky
                                    bit
                               11.  directory writable to others, without
                                    sticky bit

                         The default is "exfxcxdxbxegedabagacad", i.e., blue
                         foreground and default background for regular
                         directories, black foreground and red background for
                         setuid executables, etc.

     LS_COLWIDTHS        If this variable is set, it is considered to be a
                         colon-delimited list of minimum column widths.
                         Unreasonable and insufficient widths are ignored
                         (thus zero signifies a dynamically sized column).
                         Not all columns have changeable widths.  The fields
                         are, in order: inode, block count, number of links,
                         user name, group name, flags, file size, file name.

     LS_SAMESORT         If this variable is set, the --tt option sorts the
                         names of files with the same modification timestamp
                         in the same sense as the time sort.  See the
                         description of the --tt option for more details.

     TERM                The CLICOLOR and COLORTERM functionality depends on a
                         terminal type with color capabilities.

     TZ                  The timezone to use when displaying dates.  See
                         environ(7) for more information.

EEXXIITT SSTTAATTUUSS
     The llss utility exits&nbsp;0 on success, and&nbsp;&gt;0 if an error occurs.

EEXXAAMMPPLLEESS
     List the contents of the current working directory in long format:

           $ ls -l

     In addition to listing the contents of the current working directory in
     long format, show inode numbers, file flags (see chflags(1)), and suffix
     each filename with a symbol representing its file type:

           $ ls -lioF

     List the files in _/_v_a_r_/_l_o_g, sorting the output such that the most
     recently modified entries are printed first:

           $ ls -lt /var/log

CCOOMMPPAATTIIBBIILLIITTYY
     The group field is now automatically included in the long listing for
     files in order to be compatible with the IEEE Std 1003.2 (“POSIX.2”)
     specification.

LLEEGGAACCYY DDEESSCCRRIIPPTTIIOONN
     In legacy mode, the --ff option does not turn on the --aa option and the --gg,
     --nn, and --oo options do not turn on the --ll option.

     Also, the --oo option causes the file flags to be included in a long (-l)
     output; there is no --OO option.

     When --HH is specified (and not overridden by --LL or --PP) and a file argument
     is a symlink that resolves to a non-directory file, the output will
     reflect the nature of the link, rather than that of the file.  In legacy
     operation, the output will describe the file.

     For more information about legacy mode, see compat(5).

SSEEEE AALLSSOO
     chflags(1), chmod(1), sort(1), xterm(1), localeconv(3), strftime(3),
     strmode(3), compat(5), termcap(5), sticky(7), symlink(7)

SSTTAANNDDAARRDDSS
     With the exception of options --gg, --nn and --oo, the llss utility conforms to
     IEEE Std 1003.1-2001 (“POSIX.1”) and IEEE Std 1003.1-2008 (“POSIX.1”).
     The options --BB, --DD, --GG, --II, --TT, --UU, --WW, --ZZ, --bb, --hh, --ww, --yy and --, are
     non-standard extensions.

     The ACL support is compatible with IEEE Std&nbsp;1003.2c (“POSIX.2c”) Draft&nbsp;17
     (withdrawn).

HHIISSTTOORRYY
     An llss command appeared in Version&nbsp;1 AT&amp;T UNIX.

BBUUGGSS
     To maintain backward compatibility, the relationships between the many
     options are quite complex.

     The exception mentioned in the --ss option description might be a feature
     that was based on the fact that single-column output usually goes to
     something other than a terminal.  It is debatable whether this is a
     design bug.

     IEEE Std 1003.2 (“POSIX.2”) mandates opposite sort orders for files with
     the same timestamp when sorting with the --tt option.

macOS 14.2                      August 31, 2020                     macOS 14.2</code></pre>
</div>
</div>
</section>
<section id="getting-help-with-man-1" class="level2">
<h2 class="anchored" data-anchor-id="getting-help-with-man-1">Getting help with man</h2>
<div class="columns">
<div class="column" style="width: 50%; font-size: 70%;">
<p><br> Manual pages are shown in the shell <em>pager</em>. Here are the essentials to navigate through contents presented in the pager:</p>
<ul>
<li><p><code>d</code> - Scroll down half a page</p></li>
<li><p><code>u</code> - Scroll up half a page</p></li>
<li><p><code>j</code> / <code>k</code> - Scroll down or up a line. You can also use the arrow keys for this</p></li>
<li><p><code>q</code> - Quit</p></li>
<li><p><code>/pattern</code> - Search for text provided as “pattern”</p></li>
<li><p><code>n</code> - When searching, find the next occurrence</p></li>
<li><p><code>N</code> - When searching, find the previous occurrence</p></li>
<li><p>These and other <code>man</code> tricks are detailed in the help pages (hit “h” when you’re in the pager for an overview).</p></li>
</ul>
</div><div class="column" data-align="center" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/rtfm-bayeux.png" class="quarto-figure quarto-figure-center figure-img" height="450"></p>
</figure>
</div>
<center>
RTFM
</center>
<center>
<strong>Always check the documentation!</strong>
</center>
</div>
</div>
</section>
<section id="help-practice" class="level2">
<h2 class="anchored" data-anchor-id="help-practice">Help practice!</h2>
<p><br></p>
<ul>
<li><p>In your Terminal, access the <code>man</code> and explore the document. I want you to share with a colleague your first impression and five commands you found interesting.</p></li>
<li><p>Please present your own (first impression + five commands) and colleague (first impression and five commands) views in the lecture quiz!</p></li>
</ul>
</section>
<section id="help-cheat-tldr-cheat.sh" class="level2">
<h2 class="anchored" data-anchor-id="help-cheat-tldr-cheat.sh">Help: cheat, tldr, cheat.sh</h2>
<p>There are various other utilities which provide more readable summaries/cheatsheets of various commands. Those include</p>
<ul>
<li><a href="https://github.com/cheat/cheat"><code>cheat</code></a></li>
<li><a href="https://cheat.sh/"><code>cheat.sh</code></a></li>
<li><a href="https://tldr.sh/"><code>tldr</code></a></li>
</ul>
<p>. . .</p>
<p>The first two need to be installed first. <code>cheat.sh</code> sheets are accessible via:</p>
<pre class="{bash}"><code>curl cheat.sh/ls  </code></pre>
<pre><code># List files one per line:
ls -1

# List all files, including hidden files:
ls -a

# List all files, with trailing `/` added to directory names:
ls -F

# Long format list with size displayed using human readable units (KB, MB, GB):
ls -lh</code></pre>
</section>
</section>
<section id="navigating-your-file-system" class="level1">
<h1>Navigating your file system</h1>
<section id="navigating-your-file-system-1" class="level2">
<h2 class="anchored" data-anchor-id="navigating-your-file-system-1">Navigating your file system</h2>
<div class="columns">
<div class="column" style="width: 50%; font-size: 70%;">
<p><br></p>
<ul>
<li><p>We’re all so used to a graphical user interface that switching to the shell can take some time to get used to.</p></li>
<li><p>Modern operating systems increasingly abstract away from underlying file systems (think about iOS, Android).</p></li>
<li><p>For data science operations it is key that you’re able to efficiently navigate your system to get information on files and folders.</p></li>
<li><p>Some questions that will pop up:</p>
<ul>
<li>What is my home directory?</li>
<li>In which directory am I currently operating?</li>
<li>Where is my stuff?</li>
<li>Where do I want to put my stuff?</li>
<li>How do I navigate from here to there?</li>
</ul></li>
</ul>
</div><div class="column" data-align="center" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/that-way-giphy.gif" class="quarto-figure quarto-figure-center figure-img" height="450"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="navigation" class="level2">
<h2 class="anchored" data-anchor-id="navigation">Navigation</h2>
<p><br></p>
<p>Key navigation commands are:</p>
<ul>
<li><p><code>pwd</code> to print (the current) working directory.</p></li>
<li><p><code>cd</code> to change directory.</p></li>
</ul>
<p>. . .</p>
<pre class="{bash nav1}"><code>pwd</code></pre>
<p><br></p>
<div id="d5e6579b" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pwd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>/Users/dcorde3/Library/CloudStorage/Dropbox/academic/cursos/cursos-davi/data_science_computing/2024S_dsc_emory_qtm_350/slides</code></pre>
</div>
</div>
</section>
<section id="navigation-1" class="level2">
<h2 class="anchored" data-anchor-id="navigation-1">Navigation</h2>
<p><br></p>
<p>You can use absolute paths, but it’s better to use relative paths and invoke special symbols for a user’s home folder (<code>~</code>), current directory (<code>.</code>), and parent directory (<code>..</code>) as needed.</p>
<p><br></p>
<pre class="{bash nav2}"><code>cd slides-topic-02-02-examples ## Move into the "slides-topic-02-02-examples" sub-directory of this lecture directory.
cd ../.. ## Now go back up two directories.
pwd</code></pre>
<p><br></p>
<center>
Terminal!
</center>
</section>
<section id="navigation-2" class="level2">
<h2 class="anchored" data-anchor-id="navigation-2">Navigation</h2>
<div class="columns">
<div class="column" style="width: 50%; font-size: 70%;">
<p><br> Beware of directory names that contain spaces. Say you have a directory called “My Documents”. (I’m looking at you, Windows.)</p>
<ul>
<li><p>Why won’t <code>$ cd My Documents</code> work?</p></li>
<li><p>Bash syntax is super pedantic about spaces and ordering. Here it thinks that “My” and “Documents” are separate arguments.</p></li>
<li><p>How to deal with it:</p>
<ul>
<li>Use quotation marks: <code>$ cd "My Documents"</code>.</li>
<li>Use Tab completion to automatically “escape” the space: <code>$ cd My\ Documents</code>.</li>
<li>Don’t use spaces in file and folder names. Just don’t.</li>
<li>I’ve developed the habit to name files and folders
<ul>
<li>always lowercase and</li>
<li>using dashes or snake_case, as in <code>assignment-05</code> or <code>assignment_05</code>. These are useful conventions!</li>
</ul></li>
</ul></li>
</ul>
</div><div class="column" data-align="center" style="width:50%;">
<div class="fragment">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/expanding-brain.jpg" class="quarto-figure quarto-figure-center figure-img" height="700"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="listing-files-and-their-properties" class="level2">
<h2 class="anchored" data-anchor-id="listing-files-and-their-properties">Listing files and their properties</h2>
<div class="columns">
<div class="column" data-align="center" style="width:30%;">
<p>We’re about to go into more depth about the <code>ls</code> (list) command. It shows the contents of the current (or given) directory:</p>
<pre class="{bash}"><code>ls</code></pre>
<p><br></p>
<div id="f8856ea7" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>ls</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>_slides-topic-02-02.html    slides-topic-01.qmd
_slides-topic-02-02_files   slides-topic-02-01.qmd
_slides-topic-02.html       slides-topic-02-02-examples
_slides-topic-02_aux.qmd    slides-topic-02-02.ipynb
_slides-topic-02_files      slides-topic-02-02.qmd
custom.css                  slides-topic-02-02_files
custom.scss                 slides-topic-02-03.qmd
figs                        survive.txt
libs</code></pre>
</div>
</div>
</div><div class="column" data-align="center" style="width:10%;">

</div><div class="column" data-align="center" style="width:60%;">
<div class="fragment">
<p>Now we list the contents of the <code>slides-topic-02-02-examples/</code> sub-directory with the <code>-lh</code> option (“long format”, “human readable file size unit suffixes”; again, check out <code>man ls</code> for the details):</p>
<pre class="{bash}"><code>ls -lh slides-topic-02-02-examples</code></pre>
<p><br></p>
<div id="523c74a0" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>ls <span class="op">-</span>lh slides<span class="op">-</span>topic<span class="op">-</span><span class="dv">0</span><span class="er">2</span><span class="op">-</span><span class="dv">0</span><span class="er">2</span><span class="op">-</span>examples</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>total 15304
-rw-r--r--@ 1 dcorde3  206888963   4.8M Feb  3 18:14 bbc_text_cls.csv
-rw-r--r--@ 1 dcorde3  206888963    23K Feb  3 15:22 diabetes.csv
-rw-r--r--@ 1 dcorde3  206888963   2.6M Feb  4 13:35 naive_bayes.ipynb</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="listing-files-and-their-properties-1" class="level2">
<h2 class="anchored" data-anchor-id="listing-files-and-their-properties-1">Listing files and their properties</h2>
<div class="columns">
<div class="column" style="width: 50%; font-size: 80%;">
<p>Now we list the contents of the <code>slides-topic-02-02-examples/</code> sub-directory with the <code>-lh</code> option (“long format”, “human readable file size unit suffixes”; again, check out <code>man ls</code> for the details):</p>
<pre class="{bash}"><code>ls -lh slides-topic-02-02-examples</code></pre>
<p><br></p>
<div id="75740dd7" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>ls <span class="op">-</span>lh slides<span class="op">-</span>topic<span class="op">-</span><span class="dv">0</span><span class="er">2</span><span class="op">-</span><span class="dv">0</span><span class="er">2</span><span class="op">-</span>examples</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>total 15304
-rw-r--r--@ 1 dcorde3  206888963   4.8M Feb  3 18:14 bbc_text_cls.csv
-rw-r--r--@ 1 dcorde3  206888963    23K Feb  3 15:22 diabetes.csv
-rw-r--r--@ 1 dcorde3  206888963   2.6M Feb  4 13:35 naive_bayes.ipynb</code></pre>
</div>
</div>
</div><div class="column" style="width: 50%; font-size: 80%;">
<div class="fragment">
<p>What does this all mean? Let’s focus on the top line.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="ex">drwxrwxr-x@</span> 3 dcorde3  206888963    96B Nov 27 09:51 ABC</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>The first column denotes the object type:</p>
<ul>
<li><code>d</code> (directory or folder), <code>l</code> (link), or <code>-</code> (file)</li>
</ul></li>
<li><p>Next, we see the permissions associated with the object’s three possible user types: 1) <span style="color: #e41a1c;">owner</span>, 2) <span style="color: #377eb8;">the owner’s group</span>, and 3) <span style="color: #4daf4a;">all other users</span>.</p>
<ul>
<li>Permissions reflect <code>r</code> (read), <code>w</code> (write), or <code>x</code> (execute) access.</li>
<li><b><code>-</code></b> denotes missing permissions for a class of operations.</li>
</ul></li>
<li><p>The number of <a href="https://linuxaria.com/howto/counting-and-listing-hard-links-on-linux">hard links</a> to the object.</p></li>
<li><p>We also see the identity of the object’s <span style="color: #e41a1c;">owner</span> and their <span style="color: #377eb8;">group</span>.</p></li>
<li><p>Finally, we see some descriptive elements about the object:</p>
<ul>
<li>Size, date and time of creation, and the object name.</li>
</ul></li>
</ul>
</div>
</div>
</div>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<div class="columns">
<div class="column" style="width: 100%; font-size: 70%;">
<ul>
<li>The <code>pwd</code> (print working directory) command shows the current working directory.</li>
<li>The <code>ls</code> (list) command shows the contents of the current directory or a given directory.</li>
<li>The <code>ls -l</code> command shows the contents of the current directory as list.</li>
<li>The <code>cd</code> (change directory) changes the current working directory.</li>
<li>You can run <code>cd</code> at any time to quickly go to your home directory.</li>
<li>You can use the <code>cd -</code> command to go back to the last location.</li>
<li>Absolute paths are paths which specify the exact location of a file or folder.</li>
<li>Relative paths are paths which are relative to the current directory.</li>
<li>The <code>.</code> special folder means ‘this folder’.</li>
<li>The <code>..</code> special folder means ‘the parent folder’.</li>
<li>The <code>~</code> special folder is the ‘home directory’.</li>
<li>The <code>$PWD</code> environment variable holds the current working directory.</li>
<li>The <code>$HOME</code> environment variable holds the user’s home directory.</li>
<li>The <code>tree</code> command can show the files and folders in a given directory. (Install first on a Mac.)</li>
<li>The <code>file</code> command can be used to ask the shell what it thinks a file is.</li>
</ul>
<div class="fragment">
<center>
For a more detailed overview, click <a href="https://effective-shell.com/part-1-transitioning-to-the-shell/navigating-your-system/">here</a>.
</center>
</div>
</div>
</div>
</section>
</section>
<section id="managing-your-files" class="level1">
<h1>Managing your files</h1>
<section id="managing-your-files-1" class="level2">
<h2 class="anchored" data-anchor-id="managing-your-files-1">Managing your files</h2>
<div class="columns">
<div class="column" data-align="center" style="width:50%;">
<ul>
<li><p>The obvious next step after navigating the file system is managing files.</p></li>
<li><p>There’s a lot you can do with files, including downloading, unzipping, copying, moving, renaming and deleting.</p></li>
<li><p>Again, doing this in a GUI is intuitive but usually scales badly.</p></li>
<li><p>We’ll learn how to do these operations at scale using the shell.</p></li>
<li><p>Be careful when handling files in the shell though! Don’t expect friendly reminders such as “Do you really want to delete this folder of pictures from your anniversary?”</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/organize.gif" class="quarto-figure quarto-figure-center figure-img" height="500"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="create-touch-and-mkdir" class="level2">
<h2 class="anchored" data-anchor-id="create-touch-and-mkdir">Create: touch and mkdir</h2>
<p>One of the most common shell tasks is object creation (files, directories, etc.).</p>
<p>We use <code>mkdir</code> to create directories. E.g., to create a new “testing” directory we do:</p>
<pre class="{bash mkdir}"><code>mkdir testing</code></pre>
<p><br></p>
<div id="66e57237" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>mkdir testing</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>. . .</p>
<p>We use <code>touch</code> to create (empty) files. If the file(s) already exist, <code>touch</code> changes a file’s “Access”, “Modify” and “Change” timestamps to the current time and date. To add some files to our new directory, we do:</p>
<pre class="{bash touch}"><code>touch testing/test1.txt testing/test2.txt testing/test3.txt</code></pre>
<p><br></p>
<div id="3984452b" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>touch testing<span class="op">/</span>test1.txt testing<span class="op">/</span>test2.txt testing<span class="op">/</span>test3.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>. . .</p>
<p>Check that it worked:</p>
<pre class="{bash}"><code>ls testing</code></pre>
<p><br></p>
<div id="1c0b78c5" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>ls testing</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>test1.txt test2.txt test3.txt</code></pre>
</div>
</div>
</section>
<section id="remove-rm-and-rmdir" class="level2">
<h2 class="anchored" data-anchor-id="remove-rm-and-rmdir">Remove: rm and rmdir</h2>
<p>Let’s delete the objects that we just created. Start with one of the .txt files, by using <code>rm</code>. - We could delete all the files at the same time, but you’ll see why I want to keep some.</p>
<pre class="{bash rm1}"><code>rm testing/test1.txt</code></pre>
<p><br></p>
<div id="743c644d" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>rm testing<span class="op">/</span>test1.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>. . .</p>
<p>The equivalent command for directories is <code>rmdir</code>.</p>
<pre class="{bash rmdir}"><code>rmdir testing</code></pre>
<p><br></p>
<div id="693c9c71" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>rmdir testing</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>rmdir: testing: Directory not empty</code></pre>
</div>
</div>
<p>. . .</p>
<p>Uh oh… It won’t let us delete the directory while it still has files inside of it. The solution is to use the <code>rm</code> command again with the “recursive” (<code>-r</code> or <code>-R</code>) and “force” (<code>-f</code>) options. - Excluding the <code>-f</code> option is safer, but will trigger a confirmation prompt for every file, which I’d rather avoid here.</p>
<pre class="{bash rm2}"><code>rm -rf testing ## Success</code></pre>
<p><br></p>
<div id="99c3b07a" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>rm <span class="op">-</span>rf testing <span class="co">## Success</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="copy-cp" class="level2">
<h2 class="anchored" data-anchor-id="copy-cp">Copy: cp</h2>
<div class="columns">
<div class="column" style="width: 100%; font-size: 70%;">
<p>The syntax for copying is <code>$ cp object path/copyname</code>.</p>
<ul>
<li><p>If you don’t provide a new name for the copied object, it will just take the old name.</p></li>
<li><p>However, if there is already an object with the same name in the target destination, then you’ll have to use <code>-f</code> to force an overwrite.</p></li>
</ul>
<div class="fragment">
<pre class="{bash cp}"><code>## Create new "copies" sub-directory
mkdir slides-topic-02-02-examples/copies

## Now copy across a file (with a new name)
cp slides-topic-02-02-examples/reps.txt slides-topic-02-02-examples/copies/reps-copy.txt

## Show that we were successful
ls slides-topic-02-02-examples/copies</code></pre>
<center>
Terminal!
</center>
</div>
<div class="fragment">
<p>You can use <code>cp</code> to copy directories, although you’ll need the <code>-r</code> flag if you want to recursively copy over everything inside of it too:</p>
<pre class="{bash}"><code>cp -r slides-topic-02-02-examples/meals slides-topic-02-02-examples/copies</code></pre>
<pre class="{bash}"><code>rm -rf slides-topic-02-02-examples/copies/meals</code></pre>
<center>
Terminal!
</center>
</div>
</div>
</div>
</section>
<section id="move-and-rename-mv" class="level2">
<h2 class="anchored" data-anchor-id="move-and-rename-mv">Move (and rename): mv</h2>
<p>The syntax for moving is <code>$ mv object path/newobjectname</code></p>
<pre class="{bash mv1}"><code> ## Move the abc.txt file and show that it worked
mv slides-topic-02-02-examples/ABC/abc.txt examples
ls slides-topic-02-02-examples/ABC ## empty</code></pre>
<p><br></p>
<pre class="{bash mv2}"><code>## Move it back again
mv slides-topic-02-02-examples/abc.txt slides-topic-02-02-examples/ABC
ls slides-topic-02-02-examples/ABC ## not empty</code></pre>
<center>
Terminal!
</center>
<p>. . .</p>
<p>Note that “moving” an object within the same directory, but with specifying <code>newobjectname</code>, is effectively the same as renaming it.</p>
<pre class="{bash mv3}"><code> ## Rename reps-copy to reps2 by "moving" it with a new name
mv slides-topic-02-02-examples/copies/reps-copy.txt slides-topic-02-02-examples/copies/reps2.txt
ls slides-topic-02-02-examples/copies</code></pre>
<center>
Terminal!
</center>
</section>
<section id="rename-en-masse-zmv" class="level2">
<h2 class="anchored" data-anchor-id="rename-en-masse-zmv">Rename <em>en masse</em> : zmv</h2>
<p>A more convenient way to do renaming in <code>zsh</code> is with <code>zmv</code>. It has to be installed and autoloaded first:</p>
<pre class="{bash}"><code>autoload -U zmv</code></pre>
<center>
Terminal!
</center>
<p>. . .</p>
<p>The syntax is <code>zmv &lt;options&gt; &lt;old-files-pattern&gt; &lt;new-files-pattern&gt;</code></p>
<p>For example, say we want to change the file type (i.e.&nbsp;extension) of a set of files in the <code>slides-topic-02-02-examples/meals</code> directory, we do:</p>
<pre class="{bash}"><code>cd slides-topic-02-02-examples/meals
zmv -n -W  "*.csv" "*.txt"</code></pre>
<center>
Terminal!
</center>
<!---

````{=html}
```bash
mv -- friday.csv friday.txt
mv -- monday.csv monday.txt
mv -- saturday.csv saturday.txt
mv -- sunday.csv sunday.txt
mv -- thursday.csv thursday.txt
mv -- tuesday.csv tuesday.txt
mv -- wednesday.csv wednesday.txt
```
<p>—&gt;</p>
<pre><code>
&lt;br&gt;

A very useful flag is `-n` which does not execute the command but prints the command that would be executed. Use this if you are unsure about your patterns. The `-W` flag ensures that the wildcard `*` is recycled in the second pattern.

## Rename *en masse* : zmv

`zmv` really shines in conjunction with regular expressions and wildcards (more on the next slide). This works especially well for dealing with a whole list of files or folders.

As another example, let&#39;s change *all* of the file names in the `slides-topic-02-02-examples/meals` directory.

```{bash}
zmv -n &#39;(**/)(*).csv&#39; &#39;$1$2-tacos.csv&#39;
```

&lt;center&gt;Terminal!&lt;/center&gt;

````{=html}
&lt;!---```bash
mv -- friday.csv friday-tacos.csv
mv -- monday.csv monday-tacos.csv
mv -- saturday.csv saturday-tacos.csv
mv -- sunday.csv sunday-tacos.csv
mv -- thursday.csv thursday-tacos.csv
mv -- tuesday.csv tuesday-tacos.csv
mv -- wednesday.csv wednesday-tacos.csv
```---&gt;</code></pre>
<p>. . .</p>
<p>Notice that the patterns are now bit more complicated. The first is surrounded by single quotes, <code>(**/)</code> which defines a group that we can refer to later. It allows us to search in both the given directory and sub-directories (which we don’t have in this case). The second, <code>(*)</code> is also grouped. Both are referred to in the replacement pattern with <code>$1</code> and <code>$2</code>.</p>
<p>Want to learn more about <code>zmv</code>? Check out <a href="https://filipe.kiss.ink/zmv-zsh-rename/">this</a>.</p>
</section>
<section id="wildcards" class="level2">
<h2>Wildcards</h2>
<p><a href="http://tldp.org/LDP/GNU-Linux-Tools-Summary/html/x11655.htm">Wildcards</a> are special characters that can be used as a replacement for other characters. The two most important ones are:</p>
<ol type="1">
<li><p>Replace any number of characters with <code>*</code>.</p>
<ul>
<li>Convenient when you want to copy, move, or delete a whole class of files.</li>
</ul></li>
</ol>
<p>. . .</p>
<pre class="{bash asterisk}"><code>cp slides-topic-02-02-examples/*.sh slides-topic-02-02-examples/copies ## Copy any file with an .sh extension to &quot;copies&quot;
rm slides-topic-02-02-examples/copies/* ## Delete everything in the &quot;copies&quot; directory</code></pre>
<center>
Terminal!
</center>
<p>. . .</p>
<ol start="2" type="1">
<li><p>Replace a single character with <code>?</code></p>
<ul>
<li>Convenient when you want to discriminate between similarly named files.</li>
</ul></li>
</ol>
<p>. . .</p>
<pre class="{bash qmark}"><code>ls slides-topic-02-02-examples/meals/??nday.csv
ls slides-topic-02-02-examples/meals/?onday.csv</code></pre>
<center>
Terminal!
</center>
</section>
<section id="find" class="level2">
<h2>Find</h2>
<p>The last command to mention is <code>find</code>.</p>
<p>This can be used to locate files and directories based on a variety of criteria; from pattern matching to object properties.</p>
<pre class="{bash find1}"><code>find examples -iname &quot;monday.csv&quot; ## will automatically do recursive, -iname makes search case-insensitive</code></pre>
<p><br></p>
<pre class="{bash find2}"><code>find . -iname &quot;*.txt&quot; ## must use &quot;.&quot; to indicate pwd</code></pre>
<p><br></p>
<pre class="{bash find3}"><code>find . -size +2000k ## find files larger than 2000 KB</code></pre>
<center>
Terminal!
</center>
</section>
<section id="summary-1" class="level2">
<h2>Summary</h2>
<div class="columns">
<div class="column" style="width: 100%; font-size: 70%;">
<ul>
<li>The <code>rm</code> (remove) command can delete a file (they are gone forever, no recycle bin!).</li>
<li>The <code>rm</code> command won’t delete a folder which has files in it, unless you tell it to by adding the <code>-r</code> (recursive) flag.</li>
<li>The <code>cp</code> (copy) command can copy a file.</li>
<li>The <code>cp</code> can also be given wildcards like <code>*</code> to copy many files.</li>
<li>The <code>mv</code> (move) command can move or rename a file.</li>
<li>The <code>zmv</code> command enables convenient renaming.</li>
<li>The <code>mkdir</code> command can create a folder - it can even create a whole tree of folders if you pass the <code>-p</code> (create parent directories) flag.</li>
<li>The <code>find</code> command lets you find files based on specified criteria.</li>
<li>The <code>cat</code> command (concatenated) can be used to write the contents of a file to the screen.</li>
<li>We can pass multiple files to commands like <code>cat</code> if we use wildcards, such as <code>quotes/*</code>.</li>
<li>The <code>wget</code> (web get) command can download a file from the web. (Install first on a Mac.)</li>
<li>The <code>zip</code>/<code>unzip</code> commands can zip/unzip a file/folder for us.</li>
</ul>
<div class="fragment">
<p>For a more detailed overview, click <a href="https://effective-shell.com/part-1-transitioning-to-the-shell/managing-your-files/">here</a>.</p>
</div>
</div>
</div>
</section>
</section>
<section id="working-with-text-files" class="level1">
<h1>Working with text files</h1>
<section id="working-with-text-files-1" class="level2">
<h2>Working with text files</h2>
<div class="columns">
<div class="column" data-align="center" style="width:50%;">
<ul>
<li><p>Data scientists spend a lot of time working with text, including scripts, Markdown documents, and delimited text files like CSVs.</p></li>
<li><p>You will have the opportunity to learn more on the statistical analysis of text using NLP technique over the course of your studies.</p></li>
<li><p>While <code>Python</code> and <code>R</code> are strong environments for text wrangling and analysis, it still makes sense to spend a few slides showing off some Bash shell capabilities for working with text files.</p></li>
<li><p>We’ll only scratch the surface, but hopefully you’ll get an idea of how powerful the shell is in the text domain.</p></li>
</ul>
</div><div class="column" data-align="center" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img src="figs/bookshelf.gif" class="quarto-figure quarto-figure-center" height="600" /></p>
</figure>
</div>
</div>
</div>
</section>
<section id="counting-text-wc" class="level2">
<h2>Counting text: wc</h2>
<p><br></p>
<p>You can use the <code>wc</code> command to count:</p>
<ol type="1">
<li>The lines of text</li>
<li>The number of words</li>
<li>The number of characters</li>
</ol>
<p>. . .</p>
<p>Let’s demonstrate with a text file containing all of Shakespeare’s Sonnets.<sup>1</sup></p>
<pre class="{bash wc}"><code>wc slides-topic-02-02-examples/sonnets.txt</code></pre>
<center>
Terminal!
</center>
<p>The character count is actually higher than we’d get if we count by hand, because <code>wc</code> counts the invisible newline character “”.</p>
<center>
<a href="http://www.gutenberg.org/cache/epub/1041/pg1041.txt">Project Gutenberg</a>.
</center>
</section>
</section>
<section id="reading-text" class="level1">
<h1>Reading text</h1>
<section id="read-everything-cat" class="level2">
<h2>Read everything: cat</h2>
<p><br></p>
<p>The simplest way to read in text is with the <code>cat</code> (“concatenate”) command. Note that <code>cat</code> will read in <em>all</em> of the text. You can scroll back up in your shell window, but this can still be a pain.</p>
<p>Again, let’s demonstrate using Shakespeare’s Sonnets. (This will overflow the slide.)</p>
<p>We also use the <code>-n</code> flag to show line numbers:</p>
<p><br></p>
<p>. . .</p>
<pre class="{bash cat}"><code>cat -n slides-topic-02-02-examples/sonnets.txt</code></pre>
<center>
Terminal!
</center>
</section>
<section id="scroll-more-and-less" class="level2">
<h2>Scroll: more and less</h2>
<p><br></p>
<p>The <code>more</code> and <code>less</code> commands provide extra functionality over <code>cat</code>. For example, they allow you to move through long text one page at a time. (While they look similar, <code>less</code> is more than <code>more</code>, <a href="https://unix.stackexchange.com/questions/604/isnt-less-just-more">more or less</a>…)</p>
<pre class="{bash more}"><code>
more slides-topic-02-02-examples/sonnets.txt
</code></pre>
<center>
Terminal!
</center>
<p><br></p>
<ul>
<li>You can move forward and back using the <code>f</code> and <code>b</code> keys, and quit by hitting <code>q</code>.</li>
</ul>
</section>
<section id="preview-head-and-tail" class="level2">
<h2>Preview: head and tail</h2>
<p><br></p>
<p>The <code>head</code> and <code>tail</code> commands let you limit yourself to a preview of the text, down to a specified number of rows. (The default is 10 rows if you don’t specify a number with the <code>-n</code> flag.)</p>
<p><br></p>
<pre class="{bash head}"><code>head -n 3 slides-topic-02-02-examples/sonnets.txt ## First 3 rows
# head slides-topic-02-02-examples/sonnets.txt ## First 10 rows (default)</code></pre>
<center>
Terminal!
</center>
</section>
<section id="preview-head-and-tail-1" class="level2">
<h2>Preview: head and tail</h2>
<p><br></p>
<p><code>tail</code> works very similarly to <code>head</code>, but starting from the bottom. For example, we can see the very last row of a file as follows:</p>
<p><br></p>
<pre class="{bash tail1}"><code>tail -n 1 slides-topic-02-02-examples/sonnets.txt ## Last row</code></pre>
<center>
Terminal!
</center>
<p>. . .</p>
<p>By using the <code>-n +N</code> option, we can specify that we want to preview all lines starting from row N <em>and after</em>, as in:</p>
<p><br></p>
<pre class="{bash tail2}"><code>tail -n +3024 slides-topic-02-02-examples/sonnets.txt ## Show everything from line 3024</code></pre>
<center>
Terminal!
</center>
</section>
<section id="find-patterns-grep" class="level2">
<h2>Find patterns: grep</h2>
<div class="columns">
<div class="column" style="width: 45%; font-size: 70%;">
<p>To find patterns in text, we can use regular expression-type matching with <code>grep</code>.</p>
<p>For example, say we want to find the famous opening line to Shakespeare’s <a href="https://en.wikipedia.org/wiki/Sonnet_18">Sonnet 18</a>.</p>
<p>(We’re going to include the <code>-n</code> (“number”) flag to get the line that it occurs on.)</p>
<pre class="{bash grep1}"><code>grep -n &quot;Shall I compare thee&quot; slides-topic-02-02-examples/sonnets.txt</code></pre>
<div id="50942a4e" class="cell" data-execution_count="13">
<div class="sourceCode" id="cb70"><pre class="sourceCode python cell-code"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>grep <span class="op">-</span>n <span class="st">&quot;Shall I compare thee&quot;</span> slides<span class="op">-</span>topic<span class="op">-</span><span class="dv">0</span><span class="er">2</span><span class="op">-</span><span class="dv">0</span><span class="er">2</span><span class="op">-</span>examples<span class="op">/</span>sonnets.txt</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>grep: slides-topic-02-02-examples/sonnets.txt: No such file or directory</code></pre>
</div>
</div>
</div><div class="column" style="width: 5%; font-size: 70%;">

</div><div class="column" style="width: 45%; font-size: 70%;">
<p>By default, <code>grep</code> returns all matching patterns.</p>
<p>Check out what happens when we do the following:</p>
<pre class="{bash}"><code>grep -n &quot;winter&quot; slides-topic-02-02-examples/sonnets.txt</code></pre>
<div id="dc8dc69d" class="cell" data-execution_count="14">
<div class="sourceCode" id="cb73"><pre class="sourceCode python cell-code"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>grep <span class="op">-</span>n <span class="st">&quot;winter&quot;</span> slides<span class="op">-</span>topic<span class="op">-</span><span class="dv">0</span><span class="er">2</span><span class="op">-</span><span class="dv">0</span><span class="er">2</span><span class="op">-</span>examples<span class="op">/</span>sonnets.txt</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>grep: slides-topic-02-02-examples/sonnets.txt: No such file or directory</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="find-patterns-grep-1" class="level2">
<h2>Find patterns: grep</h2>
<p><br></p>
<p>Note that <code>grep</code> can be used to identify patterns in a group of files (e.g. within a directory) too.</p>
<ul>
<li>This is particularly useful if you are trying to identify a file that contains, say, a function name.</li>
</ul>
<p>. . .</p>
<p>Here’s a simple example: Which days will I eat pasta this week?</p>
<ul>
<li>I’m using the <code>r</code> (recursive) and <code>l</code> (just list the files; don’t print the output) flags.</li>
</ul>
<p>. . .</p>
<pre class="{bash grep2}"><code>grep -rl &quot;pasta&quot; slides-topic-02-02-examples/meals</code></pre>
<div id="6031af75" class="cell" data-execution_count="15">
<div class="sourceCode" id="cb76"><pre class="sourceCode python cell-code"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>grep <span class="op">-</span>rl <span class="st">&quot;pasta&quot;</span> slides<span class="op">-</span>topic<span class="op">-</span><span class="dv">0</span><span class="er">2</span><span class="op">-</span><span class="dv">0</span><span class="er">2</span><span class="op">-</span>examples<span class="op">/</span>meals</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>grep: slides-topic-02-02-examples/meals: No such file or directory</code></pre>
</div>
</div>
<p>Take a look at the <code>grep</code> man or cheat file for other useful examples and flags (e.g. <code>-i</code> for ignore case).</p>
</section>
<section id="manipulate-text-sed" class="level2">
<h2>Manipulate text: sed</h2>
<p>There are two main commands for manipulating text in the shell, namely <code>sed</code> and <code>awk</code>. Both of these are very powerful and flexible. We’ll briefly look into <code>sed</code> for now. (Mac users, note that the MacOS <code>sed</code> works a bit differently; see <a href="https://unix.stackexchange.com/questions/13711/differences-between-sed-on-mac-osx-and-other-standard-sed">here</a>.)</p>
<p><code>sed</code> is the <em>stream editor</em> command. It takes input from a stream - which in many cases will simply be a file. It then performs operations on the text as it is read, and returns the output.</p>
<p>. . .</p>
<div class="columns">
<div class="column" style="width: 50%; font-size: 70%;">
<p><br></p>
<p><strong>Example 1.</strong> Replace one text pattern with another.</p>
<pre class="{bash nursery}"><code>cat slides-topic-02-02-examples/nursery.txt</code></pre>
<div id="26ed2930" class="cell" data-execution_count="16">
<div class="sourceCode" id="cb79"><pre class="sourceCode python cell-code"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>cat slides<span class="op">-</span>topic<span class="op">-</span><span class="dv">0</span><span class="er">2</span><span class="op">-</span><span class="dv">0</span><span class="er">2</span><span class="op">-</span>examples<span class="op">/</span>nursery.txt</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>cat: slides-topic-02-02-examples/nursery.txt: No such file or directory</code></pre>
</div>
</div>
<pre class="{bash sed1a}"><code>sed &#39;s/Jack/Bill/g&#39; slides-topic-02-02-examples/nursery.txt
cat slides-topic-02-02-examples/nursery.txt</code></pre>
<div id="42c23284" class="cell" data-execution_count="17">
<div class="sourceCode" id="cb82"><pre class="sourceCode python cell-code"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>sed <span class="st">&#39;s/Jack/Bill/g&#39;</span> slides<span class="op">-</span>topic<span class="op">-</span><span class="dv">0</span><span class="er">2</span><span class="op">-</span><span class="dv">0</span><span class="er">2</span><span class="op">-</span>examples<span class="op">/</span>nursery.txt</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>cat slides<span class="op">-</span>topic<span class="op">-</span><span class="dv">0</span><span class="er">2</span><span class="op">-</span><span class="dv">0</span><span class="er">2</span><span class="op">-</span>examples<span class="op">/</span>nursery.txt</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>sed: slides-topic-02-02-examples/nursery.txt: No such file or directory
cat: slides-topic-02-02-examples/nursery.txt: No such file or directory</code></pre>
</div>
</div>
<!---`
``{bash}
## Change it back for when we want to re-knit the file.
sed 's/Bill/Jack/g' slides-topic-02-02-examples/nursery.txt
```

::: {#4a8f378a .cell execution_count=18}
``` {.python .cell-code}
## Change it back for when we want to re-knit the file.
!sed 's/Bill/Jack/g' slides-topic-02-02-examples/nursery.txt
```

::: {.cell-output .cell-output-stdout}
```
sed: slides-topic-02-02-examples/nursery.txt: No such file or directory
```
:::
:::


--->
</section></section></main></div><div class="column" style="width: 50%; font-size: 70%;">
<p>Let’s look at the expression <code>s/Jack/Bill/g</code> in detail:</p>
<ul>
<li>The <code>s</code> indicates that we are going to run the substitute function, which is used to replace text.</li>
<li>The <code>/</code> indicates the start of the pattern we are searching for - <code>Bill</code> in this case.</li>
<li>The second <code>/</code> indicates the start of the replacement we will make when the pattern is found.</li>
<li>The final <code>/</code> indicates the end of the replacement - we can also optionally put flags after this slash. Here, <code>g</code> ensures global replacement (not just replacement of the first match).</li>
</ul>
</div>

<!---
## Manipulate text: sed 

<br>

**Example 2.** Find and count the 10 most commonly used words in Shakespeare's Sonnets.

The command below uses, among other things:

- `\s`, the whitespace metacharacter
- `\n`, the newline metacharacter
- `|`, the pipe operator (more on that later)

```dqjfdndyism
sed 's/\s/\n/g' slides-topic-02-02-examples/sonnets.txt | sort | uniq -c | sort -nr | head -10
```

<br>

::: {#8ff390eb .cell execution_count=19}
``` {.python .cell-code}
!sed 's/\s/\n/g' slides-topic-02-02-examples/sonnets.txt | sort | uniq -c | sort -nr | head -10
```

::: {.cell-output .cell-output-stdout}
```
sed: slides-topic-02-02-examples/sonnets.txt: No such file or directory
```
:::
:::


--->

<section id="summary-2" class="level2">
<h2 data-anchor-id="summary-2">Summary</h2>
<div class="columns">
<div class="column" style="width: 100%; font-size: 70%;">
<ul>
<li><code>head</code> will show the first ten lines of a file.</li>
<li><code>head -n 30</code> will show the first thirty lines of a file, using the -n flag to specify the number of lines.</li>
<li><code>tail</code> will show the final ten lines of a file.</li>
<li><code>tail -n 3</code> uses the -n flag to specify three lines only.</li>
<li><code>tr 'a' 'b'</code> is the translate characters command, which turns one set of characters into another.</li>
<li><code>cut</code> can be used to extract parts of a line of text.</li>
<li><code>cut -d',' -f 3</code> shows how the <code>-d</code> or delimiter flag is used to specify the delimiter to cut on and how the <code>-f</code> or field flag specifies which of the fields the text has been cut into is printed.</li>
<li><code>cut -c 2-4</code> uses the <code>-c</code> or characters flag to specify that we are extracting a subset of characters in the line, in this case characters two to four.</li>
<li><code>rev</code> reverses text - by reversing, cutting and then re-reversing you can quickly extract text from the end of a line.</li>
<li><code>sort</code> sorts the incoming text alphabetically. The <code>-r</code> flag for <code>sort</code> reverses the sort order.</li>
<li>The <code>uniq</code> command removes duplicate lines - but only when they are next to each other, so you’ll often use it in combination with <code>sort</code>.</li>
<li>Your pager, for example the less program can be useful when inspecting the output of your text transformation commands.</li>
</ul>
<div class="fragment">
<p>For a more detailed overview, click <a href="https://effective-shell.com/part-3-manipulating-text/">here</a>.</p>
</div>
</div>
</div>
</section>
<section id="also-make-sure-to-master-regular-expressions" class="level2">
<h2 data-anchor-id="also-make-sure-to-master-regular-expressions">Also, make sure to master regular expressions!</h2>
<div class="columns">
<div class="column" data-align="center" style="width:50%;">
<p><br></p>
<p><strong>Good starting points are:</strong></p>
<ul>
<li><p><a href="https://effective-shell.com/part-3-manipulating-text/regex-essentials/">This chapter</a> discussing regex in the context of the shell</p></li>
<li><p><a href="https://docs.python.org/3/howto/regex.html">Regular Expression in Python</a></p></li>
<li><p><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/regex.html">This base R regex intro</a></p></li>
</ul>
<!----   [This intro from R4DS](https://r4ds.had.co.nz/strings.html)

-   [This vignette from the stringr package](https://cran.r-project.org/web/packages/stringr/vignettes/regular-expressions.html)

-   And, of course, the great presentations on the topic featured [in our I2DS Tools for Data Science Workshop](https://intro-to-data-science-21-workshop.github.io/)!

--->
</div><div class="column" data-align="center" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/evil-laugh.gif" class="quarto-figure quarto-figure-center figure-img" height="500"></p>
</figure>
</div>
</div>
</div>
<!-- ############################################ -->
</section>

<section id="redirects-pipes-and-loops" class="level1">
<h1>Redirects, pipes, and loops</h1>
<section id="redirects-pipes-and-loops-1" class="level2">
<h2 data-anchor-id="redirects-pipes-and-loops-1">Redirects, pipes, and loops</h2>
<div class="columns">
<div class="column" data-align="center" style="width:50%;">
<p><br></p>
<ul>
<li>You have learned about pipes (<code>%&gt;%</code> or <code>|&gt;</code>) in R already.</li>
<li>Understanding the concept of pipelines in the shell, as well as how input and output work for command line programs is critical to be able to use the shell effectively.</li>
<li>Think again of the Unix philosophy of “doing one thing, but doing it well” and combining multiple of these modules.</li>
<li>Also, often you’ll want to dump output in a file as part of your workflow.</li>
<li>Let’s learn how all this works.</li>
</ul>
</div><div class="column" data-align="center" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/pipe-giphy.gif" class="quarto-figure quarto-figure-center figure-img" height="500"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="redirect" class="level2">
<h2 data-anchor-id="redirect">Redirect: &gt;</h2>
<p><br></p>
<p>You can send output from the shell to a file using the redirect operator <code>&gt;</code>.</p>
<p>For example, let’s print a message to the shell using the <code>echo</code> command.</p>
<pre class="{bash}"><code>echo "At first, I was afraid, I was petrified"</code></pre>
<div id="4738c818" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>echo <span class="st">"At first, I was afraid, I was petrified"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>At first, I was afraid, I was petrified</code></pre>
</div>
</div>
<p><br></p>
<p>. . .</p>
<p>If you wanted to save this output to a file, you need simply redirect it to the filename of choice.</p>
<pre class="{bash}"><code>echo "At first, I was afraid, I was petrified" &gt; survive.txt
find survive.txt ## Show that it now exists</code></pre>
<div id="d709c8d3" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>echo <span class="st">"At first, I was afraid, I was petrified"</span> <span class="op">&gt;</span> survive.txt</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>find survive.txt <span class="co">## Show that it now exists</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>survive.txt</code></pre>
</div>
</div>
</section>
<section id="redirect-1" class="level2">
<h2 data-anchor-id="redirect-1">Redirect: &gt;</h2>
<p><br></p>
<p>If you want to <em>append</em> text to an existing file, then you should use <code>&gt;&gt;</code>.</p>
<ul>
<li>Using <code>&gt;</code> will try to overwrite the existing file contents.</li>
</ul>
<p>. . .</p>
<pre class="{bash}"><code>echo "'Kept thinking I could never live without you by my side" &gt;&gt; survive.txt
cat survive.txt</code></pre>
<p><br></p>
<div id="7151f277" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>echo <span class="st">"'Kept thinking I could never live without you by my side"</span> <span class="op">&gt;&gt;</span> survive.txt</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>cat survive.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>At first, I was afraid, I was petrified
'Kept thinking I could never live without you by my side</code></pre>
</div>
</div>
<!---```{bash}
## Remove file so that we do't keep adding to it when we re-knit these slides
rm survive.txt
```
--->
<p><br></p>
<p>An example use case is when adding rules to your .gitignore, e.g.&nbsp;<code>$ echo "*.csv" &gt;&gt;  .gitignore</code>.</p>
</section>
<section id="pipes" class="level2">
<h2 data-anchor-id="pipes">Pipes: |</h2>
<p>The pipe operator <code>|</code> is one of the coolest features in Bash.</p>
<ul>
<li>It allows us to chain (i.e.&nbsp;“pipe”) together a sequence of simple operations and thereby implement a more complex operation.</li>
</ul>
<p>. . .</p>
<div class="columns">
<div class="column" style="width: 40%; font-size: 70%;">
<p><strong>Here’s a simple example:</strong></p>
<pre class="{bash pipe1}"><code>cat -n slides-topic-02-02-examples/sonnets.txt 2&gt;/dev/null | head -n100 | tail -n10</code></pre>
<div id="0c3e8d42" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>cat <span class="op">-</span>n slides<span class="op">-</span>topic<span class="op">-</span><span class="dv">0</span><span class="er">2</span><span class="op">-</span><span class="dv">0</span><span class="er">2</span><span class="op">-</span>examples<span class="op">/</span>sonnets.txt  <span class="dv">2</span><span class="op">&gt;/</span>dev<span class="op">/</span>null <span class="op">|</span> head <span class="op">-</span>n100 <span class="op">|</span> tail <span class="op">-</span>n10</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width: 30%; font-size: 50%;">
<ul>
<li><p>This command sequence:</p>
<ul>
<li>It reads the file <code>sonnets.txt</code>, numbering each line of the text.</li>
<li>Any errors that might occur during this process are ignored (not printed to the terminal).</li>
<li>It then takes only the first 100 lines of the numbered text.</li>
<li>From those 100 lines, it then takes only the last 10 lines.</li>
<li>The final output displayed in the terminal will be lines 91 to 100 of the <code>sonnets.txt</code> file, along with their corresponding line numbers.</li>
</ul></li>
</ul>
<ol type="1">
<li><code>cat -n slides-topic-02-02-examples/sonnets.txt</code>
<ul>
<li><code>cat</code> is used to concatenate and display files.</li>
<li>The <code>-n</code> option of <code>cat</code> numbers all output lines starting with line 1.</li>
<li><code>slides-topic-02-02-examples/sonnets.txt</code> is the file path to the text file being read. This file presumably contains sonnets or other text.</li>
</ul></li>
</ol>
</div><div class="column" style="width: 30%; font-size: 50%;">
<ol start="2" type="1">
<li><code>2&gt;/dev/null</code>
<ul>
<li><code>2&gt;</code> is used to redirect the standard error (stderr) output stream.</li>
<li><code>/dev/null</code> is a special file that discards all data written to it.</li>
<li>This redirection sends all error messages from <code>cat</code> (like file not found, no read permission, etc.) to <code>/dev/null</code>, effectively silencing any errors that <code>cat</code> might produce.</li>
</ul></li>
<li><code>| head -n100</code>
<ul>
<li>The pipe <code>|</code> passes the output of the previous command (<code>cat -n</code>) to the next command as input.</li>
<li><code>head</code> is used to output the first part of files.</li>
<li>The <code>-n100</code> option tells <code>head</code> to print the first 100 lines of its input.</li>
</ul></li>
<li><code>| tail -n10</code>
<ul>
<li>Another pipe <code>|</code> passes the output of <code>head -n100</code> to the next command as input.</li>
<li><code>tail</code> outputs the last part of files.</li>
<li>The <code>-n10</code> option tells <code>tail</code> to print the last 10 lines of its input.</li>
</ul></li>
</ol>
</div>
</div>
</section>
<section id="iteration-with-for-loops" class="level2">
<h2 data-anchor-id="iteration-with-for-loops">Iteration with <em>for</em> loops</h2>
<p><br></p>
<p>Sometimes you want to loop an operation over certain parameters. <em>for</em> loops in Bash/Z shell work similarly to other programming languages that you are probably familiar with.</p>
<p><br></p>
<p><strong>The basic syntax is:</strong></p>
<div class="sourceCode" id="cb95"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> LIST</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="cf">do</span> </span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">OPERATION</span> <span class="va">$i</span> <span class="co">## the $ sign indicates a variable in bash</span></span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>. . .</p>
<p>We can also condense things into a single line by using <code>;</code>.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> LIST<span class="kw">;</span> <span class="cf">do</span> <span class="ex">OPERATION</span> <span class="va">$i</span><span class="kw">;</span> <span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note: Using <code>;</code> isn’t limited to <em>for loops</em>. Semicolons are a standard way to denote line endings in Bash/Z shell.</p>
</section>
<section id="example-1-print-a-sequence-of-numbers" class="level2">
<h2 data-anchor-id="example-1-print-a-sequence-of-numbers">Example 1: Print a sequence of numbers</h2>
<p>To help make things concrete, here’s a simple <em>for</em> loop in action.</p>
<pre class="{bash for1a}"><code>for i in 1 2 3 4 5; do echo $i; done</code></pre>
<div id="7a9e9231" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span><span class="cf">for</span> i <span class="kw">in</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span> <span class="dv">5</span><span class="op">;</span> do echo $i<span class="op">;</span> done</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1
2
3
4
5</code></pre>
</div>
</div>
<p>. . .</p>
<p>FWIW (For What It’s Worth), we can use bash’s brace expansion (<code>{1..n}</code>) to save us from having to write out a long sequence of numbers.</p>
<pre class="{bash for1b}"><code>for i in {1..5}; do echo $i; done</code></pre>
</section>
<section id="example-2-combine-csvs" class="level2">
<h2 data-anchor-id="example-2-combine-csvs">Example 2: Combine CSVs</h2>
<p>Here’s a more realistic <em>for</em> loop use-case: Combining (i.e.&nbsp;concatenating) multiple CSVs.</p>
<p>Say we want to combine all the “daily” files in the <code>/meals</code> directory into a single CSV, which I’ll call <code>mealplan.csv</code>. Here’s one attempt that incorporates various bash commands and tricks that we’ve learned so far. The basic idea is:</p>
<ol type="1">
<li><p>Create a new (empty) CSV</p></li>
<li><p>Then, loop over the relevant input files, appending their contents to our new CSV</p></li>
</ol>
<p>. . .</p>
<pre class="{bash}"><code>## create an empty CSV
touch slides-topic-02-02-examples/meals/mealplan.csv
## loop over the input files and append their contents to our new CSV
for i in $(ls slides-topic-02-02-examples/meals/*day.csv)
  do 
   cat $i &gt;&gt; slides-topic-02-02-examples/meals/mealplan.csv
done</code></pre>
<center>
Terminal!
</center>
<p>. . .</p>
<center>
Did it work?
</center>
</section>
<section id="example-2-combine-csvs-1" class="level2">
<h2 data-anchor-id="example-2-combine-csvs-1">Example 2: Combine CSVs</h2>
<p><br></p>
<pre class="{bash for2b}"><code>cat slides-topic-02-02-examples/meals/mealplan.csv</code></pre>
<center>
Terminal!
</center>
<!---<br>

::: {#dac9b487 .cell execution_count=25}
``` {.python .cell-code}
!cat slides-topic-02-02-examples/meals/mealplan.csv
```

::: {.cell-output .cell-output-stdout}
```
cat: slides-topic-02-02-examples/meals/mealplan.csv: No such file or directory
```
:::
:::


--->
<p>. . .</p>
<p><br></p>
<p>Hmmm. Sort of, but we need to get rid of the repeating header.</p>
<p>. . .</p>
<p><br></p>
<p>Can you think of a way? (<em>Hint:</em> <code>tail</code> and <code>head</code>…)</p>
</section>
<section id="example-2-combine-csvs-2" class="level2">
<h2 data-anchor-id="example-2-combine-csvs-2">Example 2: Combine CSVs</h2>
<p><br></p>
<p>Let’s try again. First delete the old file so we can start afresh.</p>
<pre class="{bash for2c}"><code>rm -f slides-topic-02-02-examples/meals/mealplan.csv ## delete old file</code></pre>
<center>
Terminal!
</center>
<p>. . .</p>
<p>Here’s our adapted gameplan:</p>
<ul>
<li><p>First, create the new file by grabbing the header (i.e.&nbsp;top line) from any of the input files and redirecting it. No need for <code>touch</code> this time.</p></li>
<li><p>Next, loop over all the input files as before, but this time only append everything <em>after</em> the top line.</p></li>
</ul>
<p>. . .</p>
<pre class="{bash}"><code>## create a new CSV by redirecting the top line of any file
head -1 slides-topic-02-02-examples/meals/monday.csv &gt; slides-topic-02-02-examples/meals/mealplan.csv
## loop over the input files, appending everything after the top line
for i in $(ls slides-topic-02-02-examples/meals/*day.csv)
 do 
   tail -n +2 $i &gt;&gt; slides-topic-02-02-examples/meals/mealplan.csv
done</code></pre>
<center>
Terminal!
</center>
</section>
<section id="example-2-combine-csvs-3" class="level2">
<h2 data-anchor-id="example-2-combine-csvs-3">Example 2: Combine CSVs</h2>
<p><br></p>
<p>It worked!</p>
<pre class="{bash for2e}"><code>cat slides-topic-02-02-examples/meals/mealplan.csv</code></pre>
<center>
Terminal!
</center>
<p>. . .</p>
<p><br></p>
<p>We still have to sort the correct week order, but that’s an easy job in <code>R</code> or <code>Python</code>.</p>
<ul>
<li><p>The explicit benefit of doing the concatenating in the shell is that it can be <em>much</em> more efficient, since all the files don’t simultaneously have to be held in memory (i.e RAM).</p></li>
<li><p>This doesn’t matter here, but can make a dramatic difference once we start working with lots of files (or even a few really big ones).</p></li>
</ul>
<!---```{bash for2f, echo = FALSE}
rm -f slides-topic-02-02-examples/meals/mealplan.csv ## Silently remove to avoid errors with later re-knits
```--->
</section>
</section>
<section id="scripting" class="level1">
<h1>Scripting</h1>
<section id="scripting-1" class="level2">
<h2 data-anchor-id="scripting-1">Scripting</h2>
<div class="columns">
<div class="column" style="width: 50%; font-size: 80%;">
<p><br></p>
<p>Writing code <strong>interactively</strong> in the shell makes a lot of sense when you are exploring data, file structures, etc.</p>
<p>However, it’s also possible (and often desirable) to <strong>write reproducible shell scripts</strong> that combine a sequence of commands.</p>
<p>These scripts are demarcated by their <code>.sh</code> file extension.</p>
<p>Let’s look at the contents of a short shell script, <code>hello.sh</code>, that is included in the examples folder:</p>
<pre class="{bash hello}"><code>cat slides-topic-02-02-examples/hello.sh</code></pre>
<p><br> What does this script do?</p>
</div><div class="column" data-align="center" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="figs/goldberg-machine-giphy.gif" class="quarto-figure quarto-figure-center figure-img" height="500"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="hello-world" class="level2">
<h2 data-anchor-id="hello-world">Hello World!</h2>
<p><br></p>
<div class="sourceCode" id="cb107"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/sh</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"\nHello World!\n"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p><code>#!/bin/sh</code> is a <a href="https://en.wikipedia.org/wiki/Shebang_(Unix)">shebang</a>, indicating which program to run the command with (here: any Bash-compatible shell). However, it is typically ignored (note that it begins with the hash comment character.)</p></li>
<li><p><code>echo "\nHello World!\n"</code> is the actual command that we want to run.</p></li>
</ul>
<p>. . .</p>
<p>To run this simple script, you can just type in the file name and press enter.</p>
<pre class="{bash hello_run}"><code>slides-topic-02-02-examples/hello.sh
# bash slides-topic-02-02-examples/hello.sh ## Also works</code></pre>
<div id="6333d59c" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>slides<span class="op">-</span>topic<span class="op">-</span><span class="dv">0</span><span class="er">2</span><span class="op">-</span><span class="dv">0</span><span class="er">2</span><span class="op">-</span>examples<span class="op">/</span>hello.sh</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a><span class="co"># bash slides-topic-02-02-examples/hello.sh ## Also works</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>zsh:1: no such file or directory: slides-topic-02-02-examples/hello.sh</code></pre>
</div>
</div>
<!---````{=html}

# Py script

## Py script

It's important to realize that we aren't limited to running shell scripts in the shell. The exact same principles carry over to other programs and files.

The most relevant case for this class is the [`Rscript`](https://stat.ethz.ch/R-manual/R-devel/library/utils/html/Rscript.html) command for (you guessed it) executing R scripts and expressions. For example:

```jrvyajnnoxzjxojnegesu
Pyscript -e "cat('Hello World, from R!')"
```

--

Of course, the more typical `Rscript` use case is to execute full length R scripts. An optional, but very useful feature here is the ability to pass extra arguments from the shell to your R script. Consider the `hello.R` script in the examples folder:

```jyswmxurkikxzfythrzuomdr
cat slides-topic-02-02-examples/hello.R
```




# Rscript (cont.)

The key step for using additional `Rscript` arguments is held within the top two lines.

```r
args = commandArgs(trailingOnly = TRUE)
i = args[1]; j = args[2]
```
These tell `Rscript` to capture any trailing arguments (i.e. after the file name) and then pass them on as objects that can be used within R. 

--

Let's run the script to see it in action.

```mnmrswdcvbkeinzltwdk
Rscript slides-topic-02-02-examples/hello.R 12 9
```

--

Again, including trailing arguments is entirely optional. You could run `Rscript myfile.R` without any problems. But it often proves very useful for the type of work that you'd likely be using `Rscript` for (e.g. batching big jobs).

---

# Editing and writing scripts in the shell

Say you want to edit the `hello.sh` script. We have already seen how to append text lines to a file. But when it comes to more complicated editing work, you're better off using a command-line editor: 

- An easy starting point is [**nano**](https://www.nano-editor.org/). (**Windows users**, see [here](https://stackoverflow.com/questions/36802996/bash-nano-command-not-found-at-windows-git-bash).)
- Another popular (and nerdy) option is [**vim**](https://missing.csail.mit.edu/2020/editors/). Extremely powerful, but a steep learning curve (I am told).
- More options [here](https://itsfoss.com/command-line-text-editors-linux/). 

A key advantage of command-line editors is that using them fits the command-line workflow - the keyboard is the only hardware input device. 

But it's also absolutely legit to open (and modify) `.sh` scripts with your ordinary text editor. It will break the "flow" though.

With `nano`, open the script by typing `$ nano slides-topic-02-02-examples/hello.sh`. 

- Note that the functionality is more limited than a normal text editor.
- Once you are finished editing, hit `Ctrl`+`X`, then `y` and `enter` to exit.
- Finally, run the edited version of the script.

````--->
<!-- ############################################ -->
</section>
</section>
<section id="next-steps" class="level1">
<h1>Next steps</h1>
<section id="things-we-didnt-cover-here" class="level2">
<h2 data-anchor-id="things-we-didnt-cover-here">Things we didn’t cover here</h2>
<p>I hope that I’ve given you a sense of how the shell works and how powerful it is. My main goal has been to “demystify” the shell, so that you aren’t intimidated when we use shell commands later on.</p>
<p>We didn’t cover many things:</p>
<ul>
<li><p>User roles and file permissions, environment variables, SSH, memory management (e.g.&nbsp;<a href="https://ss64.com/bash/top.html">top</a> and <a href="https://hisham.hm/htop/">htop</a>), GNU parallel, etc.</p></li>
<li><p>Automation; see <a href="https://stat545.com/automation-overview.html">here</a>, <a href="https://books.ropensci.org/drake/index.html">here</a>, and <a href="https://web.stanford.edu/~gentzkow/research/CodeAndData.pdf">here</a> are great places to start learning about automation on your own.</p></li>
</ul>
</section>
<section id="additional-material" class="level2">
<h2 data-anchor-id="additional-material">Additional material</h2>
<p>If you want to dig deeper, check out</p>
<ul>
<li><p><a href="http://swcarpentry.github.io/shell-novice/">The Unix Shell</a> (Software Carpentery)</p></li>
<li><p><a href="https://seankross.com/the-unix-workbench/">The Unix Workbench</a> (Sean Kross)</p></li>
<li><p><a href="https://www.datascienceatthecommandline.com/">Data Science at the Command Line</a> (Jeroen Janssens)</p></li>
<li><p><a href="https://effective-shell.com/">Effective Shell</a> (Dave Kerr)</p></li>
<li><p><a href="https://techblogs.42gears.com/efficient-way-to-process-large-text-log-files-usin-wpython/">Efficient Way To Process Large Text/Log Files Using Awk With Python</a></p></li>
<li><p><a href="https://livefreeordichotomize.com/posts/2019-06-04-using-awk-and-r-to-parse-25tb/">Using AWK and R to parse 25tb</a> (Nick Strayer)</p></li>
<li><p><a href="https://jqlang.github.io/jq/"><code>./jq</code></a></p></li>
<li><p><a href="https://en.wikipedia.org/wiki/AWK"><code>awk</code></a></p></li>
</ul>
</section>
</section>
<section id="thank-you" class="level1">
<h1>Thank you!</h1>


</section>

 <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
 <!-- /content -->




</body></html>